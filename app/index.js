/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e,t={6010:(e,t,n)=>{var r=n(5072),o=n(7665),a=n(9214);const i=n(2564).A;var c,l,u,s,f,p=n(9270),h=n(7097),d=n(4977),m=n(7039),y=n(4536),v=n(5263),g=n(6913),b=n(492),w=n(4547),E=n(3676),x=n(9296),_=n(4461),R=sclegn_social_engine.prefix,k=sclegn_social_engine.domain,P=sclegn_social_engine.rest_url.replace(/\/+$/,""),O=sclegn_social_engine.api_url.replace(/\/+$/,""),S=sclegn_social_engine.plugin_url.replace(/\/+$/,""),j="1"===sclegn_social_engine.is_pro,L=j&&"1"===sclegn_social_engine.is_registered,T=sclegn_social_engine.rest_nonce,A=sclegn_social_engine.post_types,I=sclegn_social_engine.options,N=I.accounts,C={ready:"Ready",draft:"Draft"},D={facebook:{maxImagesPost:4,maxTextLength:2200},instagram:{maxImagesPost:10,maxTextLength:2200},twitter:{maxImagesPost:4,maxTextLength:280},twitter_blue_badge:{maxImagesPost:4,maxTextLength:1e4},linkedin:{maxImagesPost:4,maxTextLength:3e3},pinterest:{maxImagesPost:1,maxTextLength:500},mastodon:{maxImagesPost:4,maxTextLength:500}},M={everyday:"Everyday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},F=function(e){return N.find((function(t){return t.accountId===e}))},G=function(e,t){if(!e||!t)return 280;if("twitter"!==e)return D[e].maxTextLength;var n=I.services.find((function(e){return e.id===t})),r=null!=n&&n.blue_badge?"twitter_blue_badge":"twitter";return D[r].maxTextLength},z=[{label:"Disabled",value:0},{label:"Immediately (Will publish if no Defaults)",value:1},{label:"More than 3 days later",value:259200},{label:"More than one month later",value:2592e3}],B=n(197),Y=n(9616);function U(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var V=Y.Ay.div(c||(c=U(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]))),q=(0,Y.Ay)(_.z)(l||(l=U(["\n\n  .neko-block-title {\n    display: none;\n  }\n\n  .plugin-desc {\n    display: flex;\n    flex-direction: column;\n    margin-left: 15px;\n  }\n\n  .neko-block-content {\n    display: flex;\n    padding: 15px;\n\n    h2 {\n      font-size: 18px;\n      margin: 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      margin-top: 10px;\n      font-size: 13px;\n      line-height: 1.5;\n    }\n\n    .plugin-actual-desc {\n      font-size: 13px;\n      font-weight: 500;\n    }\n  }\n"]))),H=Y.Ay.img(u||(u=U(["\n  height: 125px;\n  width: auto;\n  border-radius: 10px;\n  background: lightgray;\n"]))),W=Y.Ay.div(s||(s=U(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    color: black;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]))),K=Y.Ay.ul(f||(f=U(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n  color: white;\n\n  .log-date {\n    color: var(--neko-yellow);\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: var(--neko-yellow);\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: var(--neko-red);\n    color: white;\n  }\n"])));function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function J(){J=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==$(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError($(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function X(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){X(a,r,o,i,c,"next",e)}function c(e){X(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ne=wp.element,re=ne.useState,oe=ne.useEffect,ae="".concat(P,"/meow-common/v1"),ie=function(e){var t=e.request,n=e.title,r=e.max,o=Z(re(!1),2),i=o[0],c=o[1],l=Z(re([]),2),u=l[0],s=l[1],f=u.length>0?u.reduce((function(e,t){return e+t})):0,p=u.length>0?Math.ceil(f/u.length):0,h=!u.length&&i;return oe((function(){i&&setTimeout(Q(J().mark((function e(){var n,r,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,(0,a.IU)("".concat(ae,"/").concat(t),{method:"POST",nonce:T});case 3:r=(new Date).getTime(),o=r-n,s((function(e){return[].concat(function(e){if(Array.isArray(e))return te(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||ee(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]);var t}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[u]),React.createElement(V,{style:{width:200,textAlign:"center"}},React.createElement(d.s,{h2:!0,style:{color:"white"}},n),React.createElement(B.X,{size:200,value:h?r:p,max:r},React.createElement("span",{style:{fontSize:20}},h?"START":p+" ms"),React.createElement("span",{style:{fontSize:12}},h?"YOUR ENGINE":u.length+" requests")),React.createElement(x.M,{style:{width:"100%",marginTop:10},color:i?"#cc3627":"#ccb027",onClick:function(){i||s([]),c(!i)}},i?"Stop":"Start"))};function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function se(){se=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ce(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ce(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function fe(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){fe(a,r,o,i,c,"next",e)}function c(e){fe(a,r,o,i,c,"throw",e)}i(void 0)}))}}var he=wp.element,de=he.useState,me=he.useEffect;O&&P&&S||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var ye="".concat(P,"/meow-common/v1"),ve=React.createElement(V,null,React.createElement(d.s,{p:!0,style:{lineHeight:"1.5",margin:"0 0 15px 0"}},"Hi! ☀️ Meow Apps isn't your typical plugin suite—it's a passion project led by me, ",React.createElement("a",{target:"_blank",href:"https://jordymeow.com"},"Jordy Meow"),", and a stellar team! 💕 Based in ",React.createElement("a",{target:"_blank",href:"https://offbeatjapan.org"},"Japan"),", we're all about making your WordPress experience smoother and speedier. Our plugins are all about boosting your site's performance and user-friendliness. Ready to level up your WordPress game? Check out ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps")," and let's make magic happen! 🌴🙀")),ge=React.createElement(V,null,React.createElement(d.s,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," measures your installation's basic performance by showing the average time needed to process an empty request on your server. To see how disabling plugins affects the results, turn some off and run the test again. Aim for a time under 2,000 ms, but ideally, keep it below 500 ms. The ",React.createElement("b",null,"File Operation Time")," creates a temporary 10MB file each time it runs. ",React.createElement("b",null,"The SQL Request Time")," calculates the total number of posts. This process should be quick and have a similar duration to the Empty Request Time.")),be=React.createElement(V,null,React.createElement(d.s,{p:!0},"Maintain a streamlined WordPress setup by using essential plugins and a dependable hosting provider. Refrain from self-hosting unless you're an expert. Go further by reading our tutorials:",React.createElement("ul",null,React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),we=function(){var e=pe(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.IU)("".concat(ye,"/all_settings/"),{method:"POST",nonce:T});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=pe(se().mark((function e(t){var n,r,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.value,r=t.id,e.next=3,(0,a.IU)("".concat(ye,"/update_option"),{method:"POST",nonce:T,json:{name:r,value:n}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=pe(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.IU)("".concat(ye,"/error_logs"),{method:"POST",nonce:T});case 2:return t=e.sent,e.abrupt("return",t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=(0,o.jE)(),t=le(de(!1),2),n=t[0],r=t[1],a=le(de(!1),2),i=a[0],c=(a[1],le(de(""),2)),l=c[0],u=c[1],s=(0,p.I)({queryKey:["all_settings"],queryFn:we}),f=s.data,R=s.error,k=(s.isLoading,(0,h.n)({mutationFn:Ee,onSuccess:function(){e.invalidateQueries(["all_settings"])}}).mutate),P=(0,h.n)({mutationFn:xe}),O=P.mutate,S=P.data,j=void 0===S?[]:S,L=null==f?void 0:f.meowapps_hide_meowapps,T=null==f?void 0:f.force_sslverify;me((function(){R&&!n&&(r(!0),console.error("Error from useQuery",R.message))}),[R]),me((function(){var e=document.getElementById("meow-common-phpinfo");u(e.innerHTML)}),[]);var A=function(e,t){k({value:e,id:t})},I=React.createElement(m.d,{title:"Main Menu"},React.createElement(y.E,{max:"1"},React.createElement(v.R,{name:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(d.s,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings → General."),value:"1",disabled:i,checked:L,onChange:A}))),N=React.createElement(m.d,{title:"SSL Verify"},React.createElement(y.E,{max:"1"},React.createElement(v.R,{name:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(d.s,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:i,checked:T,onChange:A})));return React.createElement(g.z,{showRestError:n},React.createElement(b.n,{title:"The Dashboard"}),React.createElement(w.N,null,React.createElement(w.Y,{full:!0},React.createElement(E._,{keepTabOnReload:!0},React.createElement(E.V,{title:"Meow Apps"},ve,React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0},React.createElement(q,{title:"AI Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/ai-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"AI Engine")),React.createElement("p",{className:"plugin-actual-desc"},"This is the ultimate AI plugin for WordPress. From a chatbot adapted to your needs to an AI that can write your content for you, API, REST, and more."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/ai-engine/"},"Meow Apps"))))),React.createElement(q,{title:"Media Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",{className:"plugin-actual-desc"},"Is your Media Library bloated, your database heavy, and your website running slow? Media Cleaner will clean your Media Library from the media entries (and files) which aren't used in your website, as well as broken entries."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/media-cleaner/"},"Meow Apps"))))),React.createElement(q,{title:"Database Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/database-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",{className:"plugin-actual-desc"},"Not only does Database Cleaner have a user-friendly UI, but it's also equipped to handle large DBs, giving it an edge over other plugins. It's a must-have for any WordPress site."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/database-cleaner/"},"Meow Apps"))))),React.createElement(q,{title:"Media File Renamer",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-file-renamer/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",{className:"plugin-actual-desc"},"Rename and move files directly from the dashboard, manually, automatically or via AI, either individually or in bulk. It's the best way to rename your files."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/media-file-renamer/"},"Meow Apps"))))),React.createElement(q,{title:"Social Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/social-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",{className:"plugin-actual-desc"},'Effortlessly schedule and automate the perfect posts for all your networks. Unlimited capabilities and infinite className="plugin-actual-desc" extensibility, for free!'),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/social-engine/"},"Meow Apps"))))),React.createElement(q,{title:"Meow Analytics",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-analytics/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",{className:"plugin-actual-desc"},"Google Analytics for your website. Simple and fast."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/meow-analytics/"},"Meow Apps")))))),React.createElement(w.Y,{minimal:!0},React.createElement(q,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/seo-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/seo-engine/"},"SEO Engine")),React.createElement("p",{className:"plugin-actual-desc"},"Optimize your content for SEO and for the AI world, with AI assistants... while keeping everything simple and fast, as it should be! ✌️"),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/seo-engine/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/seo-engine/"},"Meow Apps"))))),React.createElement(q,{title:"Meow Gallery",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-gallery/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",{className:"plugin-actual-desc"},"Fast and beautiful galleries with many layouts. Forget the heavy and slow plugins, use the Meow Gallery for a better experience! 💕"),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/meow-gallery/"},"Meow Apps"))))),React.createElement(q,{title:"Meow Lightbox",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-lightbox/assets/icon-256x256.gif"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",{className:"plugin-actual-desc"},"Sleek and performant lightbox with EXIF support."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/meow-lightbox/"},"Meow Apps"))))),React.createElement(q,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wp-retina-2x/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",{className:"plugin-actual-desc"},"Manage, Optimize, Replace your images with Perfect Images."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/wp-retina-2x/"},"Meow Apps"))))),React.createElement(q,{title:"Photo Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wplr-sync/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",{className:"plugin-actual-desc"},"Organize your photos in folders and collections. Synchronize with Lightroom. Simplify and speed up your workflow."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/wplr-sync/"},"Meow Apps"))))),React.createElement(q,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/contact-form-block/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",{className:"plugin-actual-desc"},"Need a very simple but straightforward contact form? This is the one you need. It's fast, simple, and efficient."),React.createElement("p",null,React.createElement("div",null,"Free Version: ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"WordPress.org")),React.createElement("div",null,"Pro Version: ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/contact-form-block/"},"Meow Apps")))))))),React.createElement(E.V,{title:"Performance"},ge,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(ie,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(ie,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(ie,{title:"SQL Request Time",request:"sql_request",max:2800})),be),React.createElement(E.V,{title:"PHP Info"},React.createElement(W,{dangerouslySetInnerHTML:{__html:l}})),React.createElement(E.V,{title:"PHP Error Logs"},React.createElement(V,null,React.createElement(x.M,{style:{marginBottom:10},color:"#ccb027",onClick:function(){O()},disabled:i,isBusy:"isLoadingErrorLogs"===i},"Load PHP Error Logs"),React.createElement(K,null,j.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(d.s,{p:!0},"If you don't see any errors, your host might not allow remote access to PHP error logs. Contact them for assistance, or look in your hosting control panel."))),React.createElement(E.V,{title:"Settings"},React.createElement(_.z,{title:"Settings",className:"primary"},I,N))))))},Re=n(1543),ke=n(9800),Pe=n(3896),Oe=n(6031),Se=n(8696),je=n(9794),Le=n(7213);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Ae(){Ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Te(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Te(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ie(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ie(a,r,o,i,c,"next",e)}function c(e){Ie(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Me=wp.element,Fe=Me.useState,Ge=Me.useEffect,ze="".concat(P,"/meow-licenser/").concat(R,"/v1"),Be=function(){var e=Ce(Fe(!1),2),t=e[0],n=e[1],r=Ce(Fe(!1),2),o=r[0],i=r[1],c=Ce(Fe(null),2),l=c[0],u=c[1],s=Ce(Fe(null),2),f=s[0],p=s[1],h=Ce(Fe(""),2),m=h[0],y=h[1],v=L&&(!f||"valid"!==f.license),g=function(){var e=Ne(Ae().mark((function e(){var t;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.prev=3,e.next=6,(0,a.IU)("".concat(ze,"/get_license"),{method:"POST",nonce:T});case 6:t=e.sent,p(t.data),t.data.key&&y(t.data.key),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),alert("Error while checking the license. Check your console for more information."),console.error(e.t0);case 15:n(!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Ne(Ae().mark((function e(){return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,(0,a.IU)("".concat(ze,"/set_license"),{method:"POST",nonce:T,json:{serialKey:null}});case 4:e.sent.success&&(y(""),p(null),u("licenseRemoved")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),alert("Error while removing the license. Check your console for more information."),console.error(e.t0);case 12:n(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Ne(Ae().mark((function e(){var t;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,(0,a.IU)("".concat(ze,"/set_license"),{method:"POST",nonce:T,json:{serialKey:m,override:!0}});case 4:(t=e.sent).success&&(p(t.data),t.data&&!t.data.issue&&u("licenseAdded")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),alert("Error while forcing the license. Check your console for more information."),console.error(e.t0);case 12:n(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Ne(Ae().mark((function e(){var t;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==m){e.next=5;break}return i(!0),p(null),y(""),e.abrupt("return");case 5:return n(!0),e.prev=6,e.next=9,(0,a.IU)("".concat(ze,"/set_license"),{method:"POST",nonce:T,json:{serialKey:m}});case 9:(t=e.sent).success&&(p(t.data),t.data&&!t.data.issue&&u("licenseAdded")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),alert("Error while validating the license. Check your console for more information."),console.error(e.t0);case 17:n(!1);case 18:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();Ge((function(){g()}),[]);var R=v?"Forced License":L?"Enabled":"Disabled",k=v||f&&"valid"===f.license,P="Your license is active. Thanks a lot for your support :)";v&&(P="This license has been force-enabled for you.",f&&f.check_url&&(P=React.createElement(React.Fragment,null,React.createElement("span",null,P),React.createElement("br",null),React.createElement("small",null,"To check your license status, please click ",React.createElement("a",{target:"_blank",href:f.check_url+"&cache="+642e3*Math.random(),rel:"noreferrer"},"here"),".")))),k||(f?"no_activations_left"===f.issue?P=React.createElement("span",null,"There are no activations left for this license. You can visit your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===f.issue?P=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),"."):"missing"===f.issue?P="This license does not exist.":"disabled"===f.issue?P="This license has been disabled.":"item_name_mismatch"===f.issue?P="This license seems to be for a different plugin... isn't it? :)":"forced"===f.issue?P="ABC":(P=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:f})):P="Unknown error :(");var O=React.createElement(_.z,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps"),"."),S=React.createElement(_.z,{title:"Pro Version (".concat(R,")"),busy:t,className:"primary"},!v&&!(f&&f.key===m)&&React.createElement(React.Fragment,null,React.createElement("div",{style:{marginBottom:10}},"License Key:"),React.createElement(Se.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:m,onChange:function(e){return y(e)},placeholder:"Type your license key..."}),React.createElement(d.s,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button.")),f&&!k&&React.createElement(Le.X,{variant:"danger"},P),(v||f)&&k&&React.createElement(Le.X,{variant:"success"},P),React.createElement("div",{style:{marginTop:15,display:"flex",justifyContent:"end"}},f&&!k&&React.createElement(x.M,{className:"secondary",disabled:t||!m,onClick:E},"Retry to validate"),f&&f.key===m&&React.createElement(x.M,{className:"secondary",disabled:t||!m,onClick:b},"Remove License"),React.createElement(x.M,{disabled:t||!m||f&&f.key===m,onClick:E},"Validate License"),o&&!k&&React.createElement(x.M,{disabled:t||!m||f&&f.key===m,onClick:w,className:"danger"},"Force License")),React.createElement(je.n,{isOpen:"licenseAdded"===l,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}),React.createElement(je.n,{isOpen:"licenseRemoved"===l,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}));return j?S:O},Ye=n(1594);function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Ve(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function qe(e,t){if(e){if("string"==typeof e)return He(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function We(){We=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ue(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Ue(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ke(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function $e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ke(a,r,o,i,c,"next",e)}function c(e){Ke(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Je=function(e){var t=e.busy,n=e.service,r=e.modifyService,o=e.removeService,a=e.requestService,i=function(){var e=$e(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n.id,"accounts");case 2:if((t=e.sent).success){e.next=7;break}alert("Error: ".concat(t.message)),e.next=9;break;case 7:return e.next=9,r(n.id,{accounts:t.data});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=$e(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n.id,"long-live-token");case 2:(t=e.sent).success?r(n.id,{long_lived_token:t.data.token,long_lived_token_expiresAt:t.data.expiresAt}):alert("Error: ".concat(t.message));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l="";if(n.long_lived_token_expiresAt){var u=new Date(n.long_lived_token_expiresAt);l="Expires on ".concat(u)}var s=function(){var e=$e(We().mark((function e(t,o){var a,i,c,l,u,s,f=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=f.length>2&&void 0!==f[2]?f[2]:"facebook",p=n.accounts,i=function(e){if(Array.isArray(e))return He(e)}(p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||qe(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=Ve(i),e.prev=3,c.s();case 5:if((l=c.n()).done){e.next=15;break}if((s=l.value).id!==o){e.next=10;break}return s.enabled=!!t,e.abrupt("break",15);case 10:if("instagram"!==a||(null==s||null===(u=s.instagram)||void 0===u?void 0:u.id)!==o){e.next=13;break}return s.instagram.enabled=!!t,e.abrupt("break",15);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:r(n.id,{accounts:i});case 24:case"end":return e.stop()}var p}),e,null,[[3,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=$e(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t,n,"instagram");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(0,Ye.useEffect)((function(){n.short_lived_token&&!n.long_lived_token&&c()}),[n.short_lived_token,n.long_lived_token]),(0,Ye.useEffect)((function(){n.short_lived_token&&!n.accounts&&(console.log("Refresh accounts..."),i())}),[n.long_lived_token,n.accounts]);var p=!!n.app_secret,h=p&&!!n.short_lived_token,d=h&&!!n.long_lived_token,y=d&&!!n.accounts;return React.createElement(React.Fragment,null,React.createElement("p",null,React.createElement("b",null," You can check our detailed documentation for the Facebook setup by clicking ",React.createElement("a",{href:"https://meowarts.notion.site/Setup-Facebook-aec7585fed99472f9a1b2bc32f974ee5?pvs=4",target:"_blank"},"here"),"."),React.createElement("br",null),React.createElement("br",null),React.createElement("b",null,"1.")," ",React.createElement("a",{href:"https://developers.facebook.com/apps",target:"_blank"},"Create an App on Facebook"),". Pick the ",React.createElement("i",null,"Manage integrations for your business")," option, then choose ",React.createElement("i",null,"Business"),". Keep it set to ",React.createElement("i",null,"In development"),". No need to touch anything, simply paste your App ID and App Secret below.",React.createElement("br",null),React.createElement("small",{style:{lineHeight:"6px"}},"Note: If you use Instagram, you need to make sure your Instagram is a Business Acccount (free) and connected to one of your Facebook Pages. To learn more about this, click ",React.createElement("a",{href:"https://www.facebook.com/business/help/502981923235522",target:"_blank"},"here"),".")),React.createElement(m.d,{title:"Name"},React.createElement(Se.A,{name:"sclegn-facebook-name-".concat(n.id),value:n.name,disabled:t,description:n.app_id&&React.createElement("span",null,"Quick Access: ",React.createElement("a",{href:"https://developers.facebook.com/apps/".concat(n.app_id,"/settings/basic/"),target:"_href"},"Your FB App Settings")),onBlur:function(e){return r(n.id,{name:e})}})),React.createElement(m.d,{title:"App ID"},React.createElement(Se.A,{name:"sclegn-facebook-app-id-".concat(n.id),value:n.app_id,disabled:t,onBlur:function(e){return r(n.id,{app_id:e,app_secret:null,short_lived_token:null,long_lived_token:null,long_lived_token_expiresAt:null})}})),React.createElement(m.d,{title:"App Secret"},React.createElement(Se.A,{name:"sclegn-facebook-app-secret-".concat(n.id),value:n.app_secret,disabled:t,onBlur:function(e){return r(n.id,{app_secret:e,short_lived_token:null,long_lived_token:null,long_lived_token_expiresAt:null})}})),p&&React.createElement(React.Fragment,null,React.createElement("p",null,React.createElement("b",null,"2.")," ",React.createElement("a",{href:"https://developers.facebook.com/tools/explorer/".concat(n.app_id,"/"),target:"_blank"},"Generate an Access Token"),'. The Graph API Explorer makes this easy. Make sure there is at least "pages_show_list", "instagram_basic", "instagram_content_publish", "pages_read_engagement", "business_management" and "pages_manage_posts" in the ',React.createElement("i",null,"Permissions")," section (you will need to add most of them). Then click on ",React.createElement("b",null,"Generate Access Token")," button. Copy the Access Token, and paste it below."),React.createElement(m.d,{title:"Access Token"},React.createElement(Se.A,{name:"sclegn-facebook-access-token-".concat(n.id),value:n.short_lived_token,disabled:t,onBlur:function(e){return r(n.id,{short_lived_token:e,long_lived_token:null,long_lived_token_expiresAt:null})}}))),h&&React.createElement(React.Fragment,null,React.createElement(m.d,{title:"Long-Lived Token"},React.createElement(Se.A,{name:"sclegn-facebook-long-lived-token-".concat(n.id),value:n.long_lived_token,disabled:t,readOnly:!0,description:l}))),y&&React.createElement(React.Fragment,null,React.createElement("p",null,React.createElement("b",null,"3. "),"Select the FB pages and IG accounts you would like to work with, and that's it! You can refresh those accounts with the ",React.createElement("b",null,"Refresh Accounts")," button."),React.createElement("div",{style:{padding:"10px 15px",marginBottom:20,background:"#007cb914"}},n.accounts.map((function(e){return React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:1}},React.createElement(v.R,{name:e.id,label:e.name,checked:e.enabled,onChange:s,value:"1"})),React.createElement("div",{style:{flex:1}},e.instagram&&React.createElement(v.R,{name:e.instagram.id,label:e.instagram.name,checked:e.instagram.enabled,onChange:f,value:"1"})))})))),React.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},React.createElement(x.M,{className:"danger",onClick:function(){return o(n.id)}},"Remove Service"),React.createElement("div",null,h&&React.createElement(x.M,{className:"primary",onClick:c},"Refresh Long-Lived Token"),React.createElement(x.M,{className:"primary",onClick:i,disabled:!d},"Refresh Accounts"))))};function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Qe(){Qe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Xe(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Xe(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ze(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var et=function(e){var t=e.busy,n=e.service,r=e.modifyService,o=e.removeService,a=e.requestService,i=function(){var e,t=(e=Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n.id);case 2:(t=e.sent).success?alert("The connection was successful!"):alert("Error: ".concat(t.message));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ze(a,r,o,i,c,"next",e)}function c(e){Ze(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("b",null," You can check our detailed documentation for the Twitter/X setup by clicking ",React.createElement("a",{href:"https://meowarts.notion.site/Setup-Twitter-s-API-8154ecdbf2544724b8a5bcfe5815c086?pvs=4",target:"_blank"},"here"),"."),React.createElement("br",null),React.createElement("p",null,"You need to connect your WordPress to your Twitter account. To do this, please create a new app on Twitter by clicking ",React.createElement("a",{href:"https://developer.twitter.com/en/portal/apps/new",target:"_blank"},"here"),'. You will need to edit the App Permissions and allow "Read and Write". When everything looks good, click on "Verify Settings".'),React.createElement("div",{style:{marginTop:25,marginBottom:25}},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0,style:{paddingRight:5}},React.createElement(m.d,{title:"Name"},React.createElement(Se.A,{name:"sclegn-twitter-name-".concat(n.id),value:n.name,disabled:t,onBlur:function(e){return r(n.id,{name:e})}})),React.createElement(m.d,{title:"API Key"},React.createElement(Se.A,{name:"sclegn-twitter-api-key-".concat(n.id),value:n.api_key,disabled:t,onBlur:function(e){return r(n.id,{api_key:e})}})),React.createElement(m.d,{title:"API Secret Key"},React.createElement(Se.A,{name:"sclegn-twitter-api-secert-key-".concat(n.id),value:n.api_secret_key,disabled:t,onBlur:function(e){return r(n.id,{api_secret_key:e})}})),React.createElement(m.d,{title:"Blue Badge"},React.createElement(y.E,{max:"1"},React.createElement(v.R,{name:"sclegn-twitter-blue-badge-".concat(n.id),label:"Enable",value:"1",checked:n.blue_badge,disabled:t,onChange:function(e){return r(n.id,{blue_badge:e})}})))),React.createElement(w.Y,{minimal:!0,style:{paddingLeft:5}},React.createElement(m.d,{title:"Access Token"},React.createElement(Se.A,{name:"sclegn-twitter-access-token-".concat(n.id),value:n.access_token,disabled:t,onBlur:function(e){return r(n.id,{access_token:e})}})),React.createElement(m.d,{title:"Access Token Secret"},React.createElement(Se.A,{name:"sclegn-twitter-access-token-secret-".concat(n.id),value:n.access_token_secret,disabled:t,onBlur:function(e){return r(n.id,{access_token_secret:e})}}))))),React.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},React.createElement(x.M,{className:"danger",onClick:function(){return o(n.id)}},"Remove Service"),React.createElement("div",null,React.createElement(x.M,{className:"primary",onClick:i},"Verify Settings"))))};function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}function nt(){nt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==tt(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(tt(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function rt(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){rt(a,r,o,i,c,"next",e)}function c(e){rt(a,r,o,i,c,"throw",e)}i(void 0)}))}}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return it(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ct=wp.element,lt=ct.useState,ut=ct.useEffect,st=function(e){var t,n,r=e.busy,o=e.service,a=e.modifyService,i=e.removeService,c=e.requestService,l=at(lt(!1),2),u=l[0],s=l[1],f=at(lt(null),2),p=f[0],h=f[1],d=at(lt(null),2),y=d[0],v=d[1];ut((function(){var e=new URL(window.location);o.state&&e.searchParams.has("state")&&e.searchParams.has("code")&&e.searchParams.has("sclegn_settings_linkedin")&&e.searchParams.get("sclegn_settings_linkedin")===o.id&&s(!0)}),[]);var g=function(){var e=ot(nt().mark((function e(){var t;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(o.id,"auth");case 2:if((t=e.sent).success){e.next=7;break}alert("Error: ".concat(t.message)),e.next=10;break;case 7:return e.next=9,a(o.id,{state:t.data.state});case 9:window.location.href=t.data.url;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=ot(nt().mark((function e(){var t,n,r;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(o.id,"user-info");case 2:if((t=e.sent).success){e.next=7;break}alert("Error: ".concat(t.message)),e.next=12;break;case 7:if(0!=(null===(n=t.data.organization)||void 0===n?void 0:n.length)||0!=(null===(r=t.data.user)||void 0===r?void 0:r.length)){e.next=10;break}return console.warn("The user info request was empty. You might not be able to connect to Linkedin API right now."),e.abrupt("return");case 10:h(t.data.organization),v(t.data.user);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=ot(nt().mark((function e(){var t,n;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(window.location),e.next=3,c(o.id,"access-token",{code:t.searchParams.get("code"),state:t.searchParams.get("state")});case 3:(n=e.sent).success?(a(o.id,{state:"",access_token:n.data.token,expires_at:n.data.expiresAt}),s(!1)):alert("Error: ".concat(n.message));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_="";if(o.expires_at){var R=new Date(0);R.setUTCSeconds(o.expires_at),_="Expires on ".concat(R)}var k=!o.access_token&&u,P=!!o.access_token;return React.createElement(React.Fragment,null,React.createElement("p",null,"1. ",React.createElement("a",{href:"https://www.linkedin.com/developers/apps/new",target:"_blank"},"Create an App in LinkedIn."),' Then, look at the Auth tab in your app. Simply paste your Client ID and Client Secret below. And, copy the below Redirect Url and paste it to "Authorized redirect URLs for your app" on the same tab in your app.'),React.createElement("div",{style:{marginTop:25,marginBottom:25}},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0,style:{paddingRight:5}},React.createElement(m.d,{title:"Name"},React.createElement(Se.A,{name:"sclegn-linkedin-name-".concat(o.id),value:o.name,disabled:r,onBlur:function(e){return a(o.id,{name:e})}})),React.createElement(m.d,{title:"Client ID"},React.createElement(Se.A,{name:"sclegn-linkedin-client-id-".concat(o.id),value:o.client_id,disabled:r,onBlur:function(e){return a(o.id,{client_id:e})}})),React.createElement(m.d,{title:"Client Secret"},React.createElement(Se.A,{name:"sclegn-linkedin-client-secret-".concat(o.id),value:o.client_secret,disabled:r,onBlur:function(e){return a(o.id,{client_secret:e})}})),React.createElement(m.d,{title:"Redirect Url"},React.createElement(Se.A,{name:"sclegn-linkedin-redirect-url-".concat(o.id),value:o.redirect_url,disabled:!0}))))),React.createElement("p",null,'2. Next, move to the Product tab in your app. Add "Share on LinkedIn" and "Sign In with LinkedIn" products. After you can see them in Added products, click on the ',React.createElement("b",null,"Make Connection")," button."),(k||P)&&React.createElement("p",null,"3. Successfully connected! Click on the ",React.createElement("b",null,"Get Access Token")," button."),!!o.access_token&&React.createElement("div",{style:{marginTop:25,marginBottom:25}},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0,style:{paddingRight:5}},React.createElement(m.d,{title:"Access Token"},React.createElement(Se.A,{name:"sclegn-linkedin-access-token-".concat(o.id),value:o.access_token,disabled:!0,description:_}))))),React.createElement("p",null,"Complete! Now you can use it on Social Engine. If you would like to refresh above access token, click on the ",React.createElement("b",null,"Re-connection in order to refresh the access token")," button. After re-connected, click on the ",React.createElement("b",null,"Refresh Access Token"),". (It shows only after re-connected.)"),y&&y.serviceErrorCode&&React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"auto",padding:"10px",borderRadius:"3px",backgroundColor:"#f6f8fa",border:"1px solid #e1e4e8",margin:"5px"}},React.createElement("p",{style:{margin:"0",fontSize:"12px",color:"#586069"}},"⚠️ User info: ",y.message)),p&&p.serviceErrorCode&&React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"auto",padding:"10px",borderRadius:"3px",backgroundColor:"#f6f8fa",border:"1px solid #e1e4e8",margin:"5px"}},React.createElement("p",{style:{margin:"0",fontSize:"12px",color:"#586069"}},"⚠️ Organization info: ",p.message)),y&&!y.serviceErrorCode&&React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"auto",padding:"20px",borderRadius:"5px",backgroundColor:"#fbfbfb",border:"1px solid #ddd",margin:"10px"}},React.createElement("img",{src:y.picture,alt:"User",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",marginRight:"10px"}}),React.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}},React.createElement("h2",{style:{margin:"0",fontSize:"18px"}},y.given_name," ",y.family_name),React.createElement("p",{style:{margin:"1px 0",fontSize:"14px",color:"#888"}},y.email),React.createElement("p",{style:{margin:"1px 0",fontSize:"14px",color:"#888"}},null===(t=y.locale)||void 0===t?void 0:t.language,", ",null===(n=y.locale)||void 0===n?void 0:n.country),React.createElement("p",{style:{margin:"1px 0",fontSize:"14px",color:y.email_verified?"#4caf50":"#f44336"}},y.email_verified?"Email Verified":"Email Not Verified")),p&&403==p.status&&React.createElement("p",{style:{color:"red",marginLeft:15}},"Your LinkedIn application doesn't have access to the Community Management API. This means you can only send social post to your own profile. If you would like to send social post to your company page, please contact LinkedIn to get access to the Community Management API."),p&&null==p.status&&React.createElement("p",{style:{color:"green",marginLeft:15}},"Your LinkedIn application has access to the Community Management API. Social Engine can't send social post to your company page just yet, but it will be available soon.")),React.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},React.createElement(x.M,{className:"danger",onClick:function(){return i(o.id)}},"Remove Service"),React.createElement("div",null,!k&&!P&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary",onClick:g},"Make Connection")),k&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary",onClick:E},"Get Access Token")),P&&!u&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"secondary",onClick:g},"Re-connection in order to refresh the access token"),React.createElement(x.M,{className:"primary",onClick:b},"Get User Info")),P&&u&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary",onClick:E},"Refresh Access Token")))))};function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function pt(){pt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ft(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ft(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ft(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ft(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function vt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){yt(a,r,o,i,c,"next",e)}function c(e){yt(a,r,o,i,c,"throw",e)}i(void 0)}))}}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){if(e){if("string"==typeof e)return wt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Et=wp.element,xt=Et.useState,_t=Et.useEffect,Rt=Et.useMemo,kt=function(e){var t,n=e.busy,r=e.service,o=e.modifyService,a=e.removeService,i=e.requestService,c=gt(xt(!1),2),l=c[0],u=c[1],s=gt(xt(null),2),f=s[0],p=s[1],h=gt(xt(null),2),d=h[0],y=h[1],g=gt(xt(null),2),b=g[0],E=g[1],_=!!r.app_id&&!!r.app_secret_key,R=!r.access_token&&l,k=!!r.access_token;_t((function(){if(f)try{var e=new URL(f),t=e.searchParams.get("code"),n=e.searchParams.get("state");if(!t||!n)return void alert('Could not find a code or state from the URL. Please enter the URL redirected from Pinterest after "Make Connection."');if(n!==r.state)return void alert("This URL seems not to be for this account.");y(t),E(n)}catch(e){alert("Invalid URL.")}}),[f]),_t((function(){d&&b&&u(!0)}),[d,b]);var P=function(){var e=vt(pt().mark((function e(t){var n,a,c;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(r.id,"list-boards");case 2:(n=e.sent).success?(a={boards:n.data.boards},c=t?dt(dt({},t),a):a,o(r.id,c)):alert("Error: ".concat(n.message));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=vt(pt().mark((function e(){var t;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(r.id,"auth");case 2:(t=e.sent).success?window.location.href=t.data.url:alert("Error: ".concat(t.message));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=vt(pt().mark((function e(){var t,n;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(r.id,"access-token",{code:d,state:b});case 2:if((t=e.sent).success){e.next=7;break}alert("Error: ".concat(t.message)),e.next=12;break;case 7:return n={access_token:t.data.access_token,access_token_expires_at:t.data.access_token_expires_at,refresh_token:t.data.refresh_token,refresh_token_expires_at:t.data.refresh_token_expires_at},e.next=10,o(r.id,n);case 10:u(!1),P(n);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=vt(pt().mark((function e(){var t;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(r.id,"refresh-access-token");case 2:(t=e.sent).success?o(r.id,{access_token:t.data.access_token,access_token_expires_at:t.data.access_token_expires_at}):alert("Error: ".concat(t.message));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=vt(pt().mark((function e(t,n){var a,i;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.boards.filter((function(e){return e.id!==n})),i=dt(dt({},r.boards.find((function(e){return e.id===n}))),{},{enabled:!!t}),o(r.id,{boards:[].concat((c=a,function(e){if(Array.isArray(e))return wt(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||bt(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[i])});case 3:case"end":return e.stop()}var c}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=Rt((function(){if(!r.access_token_expires_at)return"";var e=new Date(0);return e.setUTCSeconds(r.access_token_expires_at),"Expires on ".concat(e)}),[r.access_token_expires_at]),A=Rt((function(){if(!r.refresh_token_expires_at)return"";var e=new Date(0);return e.setUTCSeconds(r.refresh_token_expires_at),"Expires on ".concat(e)}),[r.refresh_token_expires_at]),I=Rt((function(){return!!r.refresh_token_expires_at&&Math.floor(Date.now()/1e3)<r.refresh_token_expires_at}),[r.refresh_token_expires_at]);return React.createElement(React.Fragment,null,React.createElement("p",null,"1. ",React.createElement("a",{href:"https://developers.pinterest.com/apps/",target:"_blank"},"Create an App in Pinterest.")," Select ",React.createElement("i",null,"Connect app"),' and complete the request form with your app information, and submit it. You will receive an email after finishing the review. Then, look at the your app. Simply paste your app ID and app secret key below. And, copy the below Redirect Uri and paste it to "Redirect URIs".'),React.createElement("div",{style:{marginTop:25,marginBottom:25}},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0,style:{paddingRight:5}},React.createElement(m.d,{title:"Name"},React.createElement(Se.A,{name:"sclegn-pinterest-name-".concat(r.id),value:r.name,disabled:n,onBlur:function(e){return o(r.id,{name:e})}})),React.createElement(m.d,{title:"App ID"},React.createElement(Se.A,{name:"sclegn-pinterest-app-id-".concat(r.id),value:r.app_id,disabled:n,onBlur:function(e){return o(r.id,{app_id:e})}})),React.createElement(m.d,{title:"App Secret Key"},React.createElement(Se.A,{name:"sclegn-pinterest-app-secret-key-".concat(r.id),value:r.app_secret_key,disabled:n,onBlur:function(e){return o(r.id,{app_secret_key:e})}})),React.createElement(m.d,{title:"Redirect Uri"},React.createElement(Se.A,{name:"sclegn-pinterest-redirect-url-".concat(r.id),value:r.redirect_uri,disabled:!0}))))),_&&React.createElement(React.Fragment,null,React.createElement("p",null,"2. Click on the ",React.createElement("b",null,"Make Connection")," button. After allowing the connection, redirected to your dashboard. Please copy that URL and paste it below. We retrieve the code and state from it."),React.createElement("div",{style:{marginTop:25,marginBottom:25}},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0,style:{paddingRight:5}},React.createElement(m.d,{title:"Redirected Url"},React.createElement(Se.A,{name:"sclegn-pinterest-redirected-url-".concat(r.id),disabled:n|I,onBlur:function(e){return p(e)}})),React.createElement(m.d,{title:"Code"},React.createElement(Se.A,{name:"sclegn-pinterest-code-".concat(r.id),value:d,disabled:!0})),React.createElement(m.d,{title:"State"},React.createElement(Se.A,{name:"sclegn-pinterest-state-".concat(r.id),value:b,disabled:!0})))))),(R||k)&&React.createElement("p",null,"3. Successfully connected! Click on the ",React.createElement("b",null,"Get Access Token")," button."),!!r.access_token&&!!r.refresh_token&&React.createElement("div",{style:{marginTop:25,marginBottom:25}},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0,style:{paddingRight:5}},React.createElement(m.d,{title:"Access Token"},React.createElement(Se.A,{name:"sclegn-pinterest-access-token-".concat(r.id),value:r.access_token,disabled:!0,description:T})),React.createElement(m.d,{title:"Refresh Token"},React.createElement(Se.A,{name:"sclegn-pinterest-refresh-token-".concat(r.id),value:r.refresh_token,disabled:!0,description:A}))))),!!k&&I&&React.createElement("p",null,"4. Select the board you would like to work with, and that's it! Now you can use it on Social Engine. If you would like to refresh above access token, click on the ",React.createElement("b",null,"Refresh Access Token"),". "),!!k&&!I&&React.createElement("p",null,"4. Select the board you would like to work with, and that's it! Now you can use it on Social Engine. If you would like to refresh above access token, click on the ",React.createElement("b",null,"Re-connection in order to refresh the access token")," button. After re-connected, click on the ",React.createElement("b",null,"Refresh Access Token"),". (It shows only after re-connected.)"),k&&React.createElement(React.Fragment,null,React.createElement("div",{style:{padding:"10px 15px",marginBottom:20,background:"#007cb914"}},null===(t=r.boards)||void 0===t?void 0:t.map((function(e){return React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:1}},React.createElement(v.R,{name:e.id,label:e.name,checked:e.enabled,onChange:L,value:"1"})))})))),React.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},React.createElement(x.M,{className:"danger",onClick:function(){return a(r.id)}},"Remove Service"),React.createElement("div",null,!R&&!k&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary",onClick:O},"Make Connection")),R&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary",onClick:S},"Get Access Token")),k&&!l&&!I&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary",onClick:O},"Re-connection in order to refresh the access token")),k&&l&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary",onClick:S},"Refresh Access Token")),k&&I&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary",onClick:j},"Refresh Access Token")),k&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary",onClick:function(){return P()}},"Refresh Boards")))))};function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Ot(){Ot=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Pt(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Pt(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function St(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var jt=function(e){var t=e.busy,n=e.service,r=e.modifyService,o=e.removeService,a=e.requestService,i=function(){var e,t=(e=Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n.id);case 2:(t=e.sent).success?alert("The connection was successful!"):alert("Error: ".concat(t.message));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){St(a,r,o,i,c,"next",e)}function c(e){St(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("p",null,'You need to connect your WordPress to your Mastodon account. To do this, please create a New Application on Mastodon (it depends on the server where you registered). Make sure the App Permissions allow "read", "write" and "write:media". When everything looks good, click on "Verify Settings".'),React.createElement("div",{style:{marginTop:25,marginBottom:25}},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0,style:{paddingRight:5}},React.createElement(m.d,{title:"Name"},React.createElement(Se.A,{name:"sclegn-mastodon-name-".concat(n.id),value:n.name,disabled:t,onBlur:function(e){return r(n.id,{name:e})}})),React.createElement(m.d,{title:"Website"},React.createElement(Se.A,{name:"sclegn-mastodon-website-".concat(n.id),value:n.website,disabled:t,onBlur:function(e){return r(n.id,{website:e})}})),React.createElement(m.d,{title:"Access Token"},React.createElement(Se.A,{name:"sclegn-mastodon-access-token-".concat(n.id),value:n.access_token,disabled:t,onBlur:function(e){return r(n.id,{access_token:e})}}))))),React.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},React.createElement(x.M,{className:"danger",onClick:function(){return o(n.id)}},"Remove Service"),React.createElement("div",null,React.createElement(x.M,{className:"primary",onClick:i},"Verify Settings"))))},Lt=function(e){var t,n,r,o,a;return"facebook"===(null==e||null===(t=e.service)||void 0===t?void 0:t.type)?React.createElement(Je,e):"twitter"===(null==e||null===(n=e.service)||void 0===n?void 0:n.type)?React.createElement(et,e):"linkedin"===(null==e||null===(r=e.service)||void 0===r?void 0:r.type)?React.createElement(st,e):"pinterest"===(null==e||null===(o=e.service)||void 0===o?void 0:o.type)?React.createElement(kt,e):"mastodon"===(null==e||null===(a=e.service)||void 0===a?void 0:a.type)?React.createElement(jt,e):React.createElement(React.Fragment,null,"Unknown Service")},Tt=n(9386),At=n.n(Tt),It=(n(596),n(2557)),Nt=n(5597);function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Dt(){Dt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ct(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Ct(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Mt(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var Ft,Gt,zt,Bt=function(e){var t=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},Yt=function(e){return{0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"}[new Date(e).getDay()]},Ut=function(e){var t=new Date(e),n=t.toLocaleString("en-US",{month:"short"}),r=t.getDate();return"".concat(n," ").concat(r)},Vt=function(e){if(!e)return"";var t=new Date(e),n=("0"+t.getHours()).slice(-2),r=("0"+t.getMinutes()).slice(-2);return"".concat(n,":").concat(r)},qt=function(e,t){if(!e||!t)return!1;var n=new Date(e),r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()},Ht=function(e){var t=function(e){return(e<10?"0":"")+e},n=t(e.getDate()),r=t(e.getMonth()+1),o=e.getFullYear(),a=t(e.getHours()),i=t(e.getMinutes());return"".concat(o,"-").concat(r,"-").concat(n,"T").concat(a,":").concat(i,":00.000Z")},Wt=function(e,t){var n=new Date(e);return t?(n.setHours(t.hours||t.getHours()),n.setMinutes(t.minutes||t.getMinutes())):(n.setHours(10),n.setMinutes(0)),n.setSeconds(0,0),n},Kt=function(e){var t=new Date;return new Date(e)<t},$t=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},Jt=function(e,t){var n=new Date(e);return n.setDate(n.getDate()-t),n},Xt=function(e){var t=new Date(e),n=t.getDay(),r=t.getDate()-n+(0==n?0:7);return new Date(t.setDate(r))},Qt=function(e,t){return new Promise(function(){var n,r=(n=Dt().mark((function n(r){var o,a,i,c;return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=new Date,n.next=3,t();case 3:if(a=new Date,i=a.getTime()-o.getTime(),!((c=e-i)>0)){n.next=9;break}return n.next=9,Zt(c);case 9:r();case 10:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){Mt(a,r,o,i,c,"next",e)}function c(e){Mt(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())},Zt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},en=function(e){return Array.isArray(e)?e.map((function(e){return e.message})).join(","):e.message},tn=Y.Ay.div(Ft||(Gt=["\n    align-items: center;\n    display: flex;\n    margin-bottom: 2px;\n\n    .delete-button {\n        cursor: pointer;\n        border-radius: 7.5px;\n        margin-left: 4px;\n\n        &:hover {\n            background: var(--neko-gray-98);\n        }\n    }\n"],zt||(zt=Gt.slice(0)),Ft=Object.freeze(Object.defineProperties(Gt,{raw:{value:Object.freeze(zt)}}))));function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rn=wp.element.useState,on=function(e){var t=e.hours,n=e.minutes,r=e.onDeleteClick,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rn(!1),2),a=o[0],i=o[1];return React.createElement(tn,{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)}},React.createElement(d.s,{p:!0,style:{marginBottom:"0"}},t,":",n),a&&React.createElement(Nt.z,{className:"delete-button",icon:"close",width:15,height:15,onClick:r}))};function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}var cn=["onAddClick","onRemoveAllClick"];function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=an(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=an(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==an(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(){fn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==an(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(an(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function pn(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function hn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){pn(a,r,o,i,c,"next",e)}function c(e){pn(a,r,o,i,c,"throw",e)}i(void 0)}))}}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||yn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e){return function(e){if(Array.isArray(e))return vn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){if(e){if("string"==typeof e)return vn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gn=wp.element,bn=gn.useState,wn=gn.useCallback,En=function(e){return(e<10?"0":"")+e},xn=Object.keys(M).filter((function(e){return"everyday"!==e})).map((function(e){return e})),_n=function(e,t){var n={hours:En(e.time.getHours()),minutes:En(e.time.getMinutes())};return"everyday"===e.day?function(e,t){return xn.map((function(t){return[t,{times:[e]}]}))}(n):[[e.day,{times:[n]}]]},Rn=function(e,t){if(!t)return!0;console.log({newPostTimes:e,currentPostTimes:t}),void 0!==t.hours&&delete t.hours,void 0!==t.minutes&&delete t.minutes;var n=Object.keys(t),r=Object.keys(e);return n.length!==r.length||(n.length>r.length?n:r).some((function(n){var r,o,a=null===(r=t[n])||void 0===r?void 0:r.times,i=null===(o=e[n])||void 0===o?void 0:o.times;return!a||!i||a.length!==i.length||a.some((function(e){return!i.includes(e)}))}))},kn=function(e){var t,n=e.onAddClick,r=e.onRemoveAllClick,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,cn),a=dn(bn({day:"everyday",time:(t=new Date,t.setHours(10),t.setMinutes(0),t)}),2),i=a[0],c=a[1];return React.createElement("div",o,React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(ke.u,{name:"sclegn-post-time",scrolldown:!0,onChange:function(e){return c(un(un({},i),{},{day:e}))},value:i.day,disabled:!1,style:{width:"150px"}},Object.keys(M).map((function(e){return React.createElement(ke.j,{id:e,value:e,label:M[e]})}))),React.createElement("div",{style:{marginLeft:"4px",marginRight:"4px"}},React.createElement(At(),{selected:i.time,onChange:function(e){return c(un(un({},i),{},{time:e}))},showTimeSelect:!0,showTimeSelectOnly:!0,dateFormat:"HH:mm",timeFormat:"HH:mm",timeIntervals:5})),React.createElement(x.M,{className:"primary",onClick:function(){return n(i)},disabled:!i.day||!i.time},"Add Posting Time"),React.createElement(x.M,{className:"danger",onClick:r},"Remove All Posting Times")))};const Pn=function(e){var t=e.defaults,n=e.accounts,r=e.busy,o=e.updateOption,a=dn(bn(null),2),i=a[0],c=a[1],l=dn(bn({show:!1,accountId:null}),2),u=l[0],s=l[1],f=wn((function(e,t){c(e?{accountId:t}:null)}),[]),p=wn(function(){var e=hn(fn().mark((function e(n,r,a){var i,c;return fn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=t.find((function(e){return e.accountId===n}))||{accountId:n})[r]=a,c=[].concat(mn(t.filter((function(e){return e.accountId!==n}))),[i]),o({value:c,name:"defaults",busyAction:function(e){return f(e,n)}});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[o,t]),h=wn((function(e,n){var r=t.find((function(e){return e.accountId===n})),a=_n(e),i=r?un(un({},r),{},{postTime:un(un({},r.postTime),Object.fromEntries(a))}):{accountId:n,postTime:Object.fromEntries(a)};if(Rn(i.postTime,null==r?void 0:r.postTime)){var c=[].concat(mn(t.filter((function(e){return e.accountId!==n}))),[i]);o({value:c,name:"defaults",busyAction:function(e){return f(e,n)}})}else alert("It has already been set up.")}),[t,o]),d=wn((function(e){var n=t.filter((function(t){return t.accountId!==e}));o({value:n,name:"defaults",busyAction:function(t){return f(t,e)}})}),[t,o]),y=(wn(function(){var e=hn(fn().mark((function e(r){var a;return fn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.map((function(e){var n=t.find((function(t){return t.accountId===e.accountId})),o=_n(r);return n?un(un({},n),{},{postTime:un(un({},n.postTime),Object.fromEntries(o))}):{accountId:e.accountId,postTime:Object.fromEntries(o)}})),!n.some((function(e){var n=t.find((function(t){return t.accountId===e.accountId})),r=a.find((function(t){return t.accountId===e.accountId}));return Rn(r.postTime,null==n?void 0:n.postTime)}))){e.next=4;break}return o({value:a,name:"defaults"}),e.abrupt("return");case 4:alert("It has already been set up.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,o]),wn(function(){var e=hn(fn().mark((function e(n,r,a,i){var c,l,u,s,p,h;return fn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.find((function(e){return e.accountId===n})),l=null==c?void 0:c.postTime,c&&l&&l.hasOwnProperty(r)&&l[r].times.some((function(e){return e.hours===a&&e.minutes===i}))){e.next=5;break}return alert("Seems to have already removed it. Please reload this page."),e.abrupt("return");case 5:u=mn(l[r].times),s=u.findIndex((function(e){return e.hours===a&&e.minutes===i})),u.splice(s,1),p=un(un({},c),{},{postTime:un(un({},l),{},sn({},r,{times:u}))}),h=[].concat(mn(t.filter((function(e){return e.accountId!==n}))),[p]),o({value:h,name:"defaults",busyAction:function(e){return f(e,n)}});case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),[t,o]));return React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0},n.map((function(e){var n,o=t.find((function(t){return t.accountId===e.accountId})),a=null!==(n=null==o?void 0:o.postContent)&&void 0!==n?n:"",c=function(){var t=hn(fn().mark((function t(n,r,o){return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(e.accountId,n,r,o);case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();return React.createElement(It.A,{key:e.accountId,busy:r||(null==i?void 0:i.accountId)===e.accountId},React.createElement(_.z,{key:e.accountId,className:"primary",style:{marginTop:0},title:React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Nt.z,{icon:e.type,containerStyle:{marginRight:"4px"},width:"20",height:"20"}),e.name)},React.createElement(kn,{onAddClick:function(t){return h(t,e.accountId)},onRemoveAllClick:function(){return s({show:!0,accountId:e.accountId})},style:{marginBottom:20}}),React.createElement(m.d,{title:"Post Time"},React.createElement("table",null,React.createElement("tr",{style:{textAlign:"left"}},xn.map((function(e){return React.createElement("th",{width:"100px"},M[e])}))),React.createElement("tr",null,xn.map((function(e){var t,n=null!==(t=null==o?void 0:o.postTime)&&void 0!==t?t:null;return n&&n.hasOwnProperty(e)&&n[e].times.length?React.createElement("td",{key:e,style:{verticalAlign:"top"}},n[e].times.map((function(t,n){return t?React.createElement(on,{key:"".concat(n).concat(null==t?void 0:t.hours).concat(null==t?void 0:t.minutes),hours:null==t?void 0:t.hours,minutes:null==t?void 0:t.minutes,onDeleteClick:function(){return c(e,null==t?void 0:t.hours,null==t?void 0:t.minutes)}}):React.createElement("td",{key:e,style:{verticalAlign:"top"}},"No settings.")}))):React.createElement("td",{key:e,style:{verticalAlign:"top"}},"No settings.")}))))),React.createElement(m.d,{title:"Post Content"},React.createElement(Pe.m,{name:"postContent",className:"content",rows:"4",textAreaStyle:{backgroundColor:"white"},style:{marginTop:5},value:a,onBlur:function(t,n){return p(e.accountId,n,t)}}))))}))),React.createElement(je.n,{isOpen:u.show,onRequestClose:function(){return s({show:!1,accountId:null})},id:"neko-modal-remove-all-posting-times",title:"Remove All Posting Times",content:"Are you sure to remove all posting times?",cancelButton:{label:"Remove All",onClick:function(){d(u.accountId),s({show:!1,accountId:null})}},okButton:{label:"Cancel",onClick:function(){s({show:!1,accountId:null})}}}))};function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Sn(e){return function(e){if(Array.isArray(e))return Mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(){jn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==On(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(On(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=On(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=On(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==On(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Nn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){In(a,r,o,i,c,"next",e)}function c(e){In(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||Dn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){if(e){if("string"==typeof e)return Mn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mn(e,t):void 0}}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Fn=wp.element,Gn=Fn.useState,zn=Fn.useMemo;const Bn=function(){var e,t,n,r,o,i,c,l,u=Cn(Gn(I),2),s=u[0],f=u[1],p=Cn(Gn(!1),2),h=p[0],P=p[1],S=Cn(Gn(!1),2),A=S[0],C=S[1],D="undefined"!=typeof mwai,M=h,F=null!==(e=null==s?void 0:s.services)&&void 0!==e?e:[],G=null!==(t=null==s?void 0:s.modules)&&void 0!==t?t:[],B=null!==(n=null==s?void 0:s.defaults)&&void 0!==n?n:[],Y=null!==(r=null==s?void 0:s.draft_enabled)&&void 0!==r&&r,U=null!==(o=null==s?void 0:s.public_api)&&void 0!==o&&o,V=null!==(i=null==s?void 0:s.api_token)&&void 0!==i?i:"",q=null!==(c=null==s?void 0:s.ai_suggestions)&&void 0!==c&&c,H=null==s?void 0:s.default_service,W=null!=s&&s.auto_schedule_posts?Number(null==s?void 0:s.auto_schedule_posts):null,K=null==G?void 0:G.includes("twitter"),$=null==G?void 0:G.includes("facebook"),J=null==G?void 0:G.includes("linkedin"),X=null==G?void 0:G.includes("pinterest"),Q=null==G?void 0:G.includes("mastodon"),Z=function(){var e=Nn(jn().mark((function e(t){var n,r,o,i,c,l,u;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.value,r=t.name,t.busyAction,o=t.onSuccess,i=t.baseOptions,c=void 0===i?null:i,P(!0),l=Tn(Tn({},null!=c?c:s),{},An({},r,n)),e.prev=3,e.next=6,(0,a.Tb)("".concat(O,"/update_option"),{json:{options:l},nonce:T});case 6:if((u=e.sent).success){e.next=10;break}return alert(u.message),e.abrupt("return");case 10:if(f(u.options),!o){e.next=14;break}return e.next=14,o(u.options);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),alert(e.t0.message);case 19:return e.prev=19,P(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Nn(jn().mark((function e(t){var n,r,o,i=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"test",r=i.length>2&&void 0!==i[2]?i[2]:{},P(!0),e.next=5,(0,a.Tb)("".concat(O,"/request_service"),{json:{id:t,action:n,params:r},nonce:T});case 5:return o=e.sent,P(!1),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Nn(jn().mark((function e(t){var n,r,o=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:"My Service",r=[].concat(Sn(F),[{name:n,type:t}]),Z({value:r,name:"services"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Nn(jn().mark((function e(t,n){var r,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tn(Tn({},r=F.find((function(e){return e.id===t}))),n),o=[].concat(Sn(F.filter((function(e){return e.id!==t}))),[r]),e.next=5,Z({value:o,name:"services"});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=Nn(jn().mark((function e(t){var n,r,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=F.find((function(e){return e.id===t})),r=function(){var e=Nn(jn().mark((function e(t){var r,o,a,i,c,l;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],"facebook"===n.type?null!=n&&n.accounts&&(a=null==n||null===(o=n.accounts)||void 0===o?void 0:o.map((function(e){return e.hasOwnProperty("instagram")?[e.id,e.instagram.id]:[e.id]})).flat(),r.push.apply(r,Sn(a))):"pinterest"===n.type&&n.boards?(c=null===(i=n.boards)||void 0===i?void 0:i.map((function(e){return e.id})),r.push.apply(r,Sn(c))):r.push(n.id),l=B.filter((function(e){return!r.includes(e.accountId)})),B.length!==l.length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Z({value:l,name:"defaults",baseOptions:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=F.filter((function(e){return e.id!==t})),e.next=5,Z({value:o,name:"services",onSuccess:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=zn((function(){return F.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0}))}),[F]),ae=function(){var e=Nn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,(0,a.Tb)("".concat(O,"/reset_all_data"),{nonce:T});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0.message);case 9:return e.prev=9,P(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})));return function(){return e.apply(this,arguments)}}();return React.createElement(g.z,null,React.createElement(b.n,{title:"Social Engine | Settings",subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(x.M,{className:"header",icon:"dashboard",onClick:function(){return location.href="upload.php?page=sclegn_dashboard"}},"Dashboard"))),React.createElement(w.N,null,React.createElement(w.Y,{fullWidth:!0},React.createElement(Re.L,null,React.createElement(d.s,{p:!0},"With Social Engine, you will be able to schedule your posts on social media in advance, and have them posted automatically for you. First, you'll need to set up your Social Networks, then you can start planning everything using the Dashboard.")),React.createElement(E._,{keepTabOnReload:!0},React.createElement(E.V,{title:"Settings"},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0},React.createElement(_.z,{busy:M,className:"primary",title:"Basic"},!N.length&&React.createElement("p",null,"Start by creating your first service (Twitter, Facebook, etc)."),N.length>0&&React.createElement(React.Fragment,null,React.createElement(m.d,{title:"Default Service"},React.createElement(ke.u,{name:"default_service",scrolldown:!0,onChange:function(e,t){return Z({value:e,name:t})},value:H,style:{marginTop:0}},N.map((function(e){return React.createElement(ke.j,{id:e.accountId,icon:e.type,value:e.accountId,label:e.name})})))),React.createElement(m.d,{title:"Auto-Schedule Posts"},React.createElement(ke.u,{name:"auto_schedule_posts",scrolldown:!0,onChange:function(e,t){return Z({value:e,name:t})},value:W,style:{marginTop:0}},z.map((function(e){return React.createElement(ke.j,{id:e.value,value:e.value,label:e.label})})))),React.createElement(m.d,{title:"Draft"},React.createElement(y.E,{max:"1"},React.createElement(v.R,{name:"draft_enabled",label:"Enabled",value:"1",checked:Y&&L,description:"The social posts will require an additional check by an administrator or editor. Ideal, if you are not working alone.",requirePro:!L,isPro:L,onChange:function(e,t){return Z({value:e,name:t})}}))))),React.createElement(_.z,{busy:M,className:"primary",title:"Template"},React.createElement(m.d,{title:"Template Text"},React.createElement(Pe.m,{name:"template",value:(null!==(l=null==s?void 0:s.template)&&void 0!==l?l:""!=s.template)?s.template:"📣 Read our new article: {title} | {excerpt:10} \n\n 🔗 Read more at: {url}.",onBlur:function(e){return Z({value:e,name:"template"})},description:"This template will be used to generate the text of your social posts. You can use variables such as {title}, {url}, {excerpt:50} (limit the excerpt up to 50 words ), {tags}, {date}, {acf:field} (add some ACF specif content by field name) to add dynamic content."})))),React.createElement(w.Y,{minimal:!0},React.createElement(_.z,{busy:M,className:"primary",title:"AI Engine",action:React.createElement(React.Fragment,null,D&&React.createElement(Oe.B,{className:"success",label:"AI Engine"}),!D&&React.createElement("div",null,React.createElement(Oe.B,{className:"danger",children:"Download AI Engine",link:"https://meowapps.com/ai-engine/"})))},React.createElement(m.d,{title:"AI Suggestions"},React.createElement(y.E,{max:"1"},React.createElement(v.R,{name:"ai_suggestions",label:"Enabled",value:"1",checked:q,description:"AI Engine will suggest you some text to use for your social posts. It will also suggest you some hashtags to use.",disabled:!D,onChange:function(e,t){return Z({value:e,name:t})}})))),React.createElement(_.z,{busy:M,className:"primary",title:"Public API"},React.createElement(m.d,{title:"Public API"},React.createElement(y.E,{max:"1"},React.createElement(v.R,{name:"public_api",label:"Enabled",value:"1",checked:U,description:(0,a.FE)('This will allow you to use the <a href="https://meowarts.notion.site/Public-REST-API-198a2b85240347b38261bda351241ad7?pvs=4" target="_blank">Public API</a> to schedule posts from other websites or apps.'),onChange:function(e,t){return Z({value:e,name:t})}}))),U&&React.createElement(m.d,{title:"Bearer Token"},React.createElement("div",{style:{display:"flex",gap:"10px"}},React.createElement(Se.A,{style:{flex:1},name:"api_token",value:V,onBlur:Z}),React.createElement(x.M,{rounded:!0,icon:"replay",onClick:function(){return Z({value:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),name:"api_token"})}}))))))),React.createElement(E.V,{title:"Twitter / X",icon:"twitter",hidden:!K},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0},React.createElement("div",{style:{margin:"-10px -10px 25px -10px",padding:10,background:"#00000014"}},React.createElement(x.M,{onClick:function(){te("twitter")},color:"var(--neko-purple)",disabled:M||!G.includes("twitter")},"New Service for Twitter")),oe.filter((function(e){return"twitter"===(null==e?void 0:e.type)})).map((function(e){return React.createElement(_.z,{busy:M,key:e.id,title:e.name,className:"primary"},React.createElement(Lt,{busy:M,service:e,modifyService:ne,removeService:re,requestService:ee}))}))))),React.createElement(E.V,{title:"Facebook (+ Instagram)",icon:"facebook",hidden:!$},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0},React.createElement("div",{style:{margin:"-10px -10px 25px -10px",padding:10,background:"#00000014"}},React.createElement(x.M,{onClick:function(){te("facebook")},color:"var(--neko-purple)",disabled:M||!G.includes("facebook")},"New Service for Facebook")),oe.filter((function(e){return"facebook"===(null==e?void 0:e.type)})).map((function(e){return React.createElement(_.z,{busy:M,key:e.id,title:e.name,className:"primary"},React.createElement(Lt,{busy:M,service:e,modifyService:ne,removeService:re,requestService:ee}))}))))),React.createElement(E.V,{title:"LinkedIn",icon:"linkedin",hidden:!J},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0},React.createElement("div",{style:{margin:"-10px -10px 25px -10px",padding:10,background:"#00000014"}},React.createElement(x.M,{onClick:function(){te("linkedin")},color:"var(--neko-purple)",disabled:M||!G.includes("linkedin")},"New Service for LinkedIn")),oe.filter((function(e){return"linkedin"===(null==e?void 0:e.type)})).map((function(e){return React.createElement(_.z,{busy:M,key:e.id,title:e.name,className:"primary"},React.createElement(Lt,{busy:M,service:e,modifyService:ne,removeService:re,requestService:ee}))}))))),React.createElement(E.V,{title:"Pinterest",icon:"pinterest",hidden:!X},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0},React.createElement("div",{style:{margin:"-10px -10px 25px -10px",padding:10,background:"#00000014"}},React.createElement(x.M,{onClick:function(){te("pinterest")},color:"var(--neko-purple)",disabled:M||!G.includes("pinterest")},"New Service for Pinterest")),oe.filter((function(e){return"pinterest"===(null==e?void 0:e.type)})).map((function(e){return React.createElement(_.z,{busy:M,key:e.id,title:e.name,className:"primary"},React.createElement(Lt,{busy:M,service:e,modifyService:ne,removeService:re,requestService:ee}))}))))),React.createElement(E.V,{title:"Mastodon",icon:"mastodon",hidden:!Q},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0},React.createElement("div",{style:{margin:"-10px -10px 25px -10px",padding:10,background:"#00000014"}},React.createElement(x.M,{onClick:function(){te("mastodon")},color:"var(--neko-purple)",disabled:M||!G.includes("mastodon")},"New Service for Mastodon")),oe.filter((function(e){return"mastodon"===(null==e?void 0:e.type)})).map((function(e){return React.createElement(_.z,{busy:M,key:e.id,title:e.name,className:"primary"},React.createElement(Lt,{busy:M,service:e,modifyService:ne,removeService:re,requestService:ee}))}))))),React.createElement(E.V,{title:"Defaults"},React.createElement(Pn,{defaults:null==s?void 0:s.defaults,accounts:null==s?void 0:s.accounts,busy:M,updateOption:Z})),React.createElement(E.V,{title:"Advanced"},React.createElement(w.N,null,React.createElement(w.Y,{minimal:!0},React.createElement(_.z,{busy:M},React.createElement(m.d,{title:"Reset"},React.createElement(x.M,{onClick:function(){C(!0)},className:"danger",disabled:M},"Reset All Data")))))),React.createElement(E.V,{title:"Pro Version"},React.createElement(Be,{domain:k,prefix:R,isPro:j,isRegistered:L})))),React.createElement(je.n,{isOpen:A,onRequestClose:function(){return C(!1)},id:"neko-modal-reset-all-data",title:"Reset all data",content:"Are you sure? This will reset all the options, the services, and will delete your social posts!",okButton:{label:"Reset All Data",color:"var(--neko-danger)",onClick:function(){C(!1),ae()}},cancelButton:{label:"Cancel",color:"var(--neko-main-color)",onClick:function(){C(!1)}}})))};var Yn,Un=n(1843),Vn=n(520),qn=n(9378),Hn=n(6897),Wn="#1DA1F2",Kn="#A767C6",$n="#4267B2",Jn="#2867b2",Xn="#bd081c",Qn="#6364ff",Zn={twitter:Wn,instagram:Kn,facebook:$n,linkedin:Jn,pinterest:Xn,mastodon:Qn},er="#F8FCFF",tr="#C7EAFF",nr=(0,Y.Ay)(g.z)(Yn||(Yn=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    background-color: transparent;\n\n    &.list {\n        h2 {\n            font-size: 14px;\n            font-weight: bold;\n        }\n\n        .add-button {\n            height: 24px;\n            width: 24px;\n\n            span {\n                font-size: 20px;\n                margin-top: -3px;\n            }\n        }\n    }\n\n    .schedule-posts {\n        padding: 32px 0 0 30px;\n        overflow: hidden;\n    }\n\n    .schedule-posts-header {\n        background: #e8e8e8;\n        padding: 10px 20px 15px 20px;\n        margin: -32px 0px 10px -30px;\n        background: white;\n\n        .schedule-posts-header-content {\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .schedule-post-filters {\n            .schedule-post-filter {\n                &::after {\n                    padding: 0 10px;\n                }\n            }\n        }\n        .schedule-post-filter-service {\n            margin-left: 16px;\n            width: 180px;\n        }\n    }\n\n    .schedule-post-lists {\n        max-height: calc(100vh - 270px);\n        overflow: auto;\n        padding-right: 16px;\n        margin-right: 14px;\n    }\n\n    .schedule-post-list-container {\n        align-items: flex-start;\n        display: flex;\n        flex-direction: row;\n        margin-bottom: 20px;\n\n        .schedule-post-list-header {\n            padding-right: 10px;\n            margin: 0;\n            text-transform: uppercase;\n            width: 10%;\n            min-width: 10%;\n\n            h2 {\n                font-size: 16px;\n                font-weight: bold;\n                line-height: 1.2;\n                margin: 0 4px 0 0;\n            }\n\n            span {\n                color: ",";\n                font-size: 12px;\n                font-weight: bold;\n                line-height: 1.2;\n            }\n\n            .schedule-post-list-header-date {\n                display: flex;\n                align-items: center;\n            }\n        }\n\n        .schedule-post-list {\n            border-left: 2px solid #ABABAB;\n            margin: 0;\n            padding-left: 10px;\n            padding: 0 10px;\n            width: 90%;\n            min-width: 80%;\n            min-height: 50px;\n        }\n\n        .schedule-post-list-item {\n            align-items: center;\n            display: flex;\n            margin-bottom: 10px;\n\n            > div {\n                width: 100%;\n            }\n\n            &:last-child {\n                margin-bottom: 0;\n            }\n        }\n    }\n\n    .sidebar {\n        background-color: var(--neko-gray-30);\n        box-sizing: border-box;\n        height: 100%;\n        padding: 13px 16px;\n        max-width: 325px;\n        width: 325px;\n\n        .nui-button {\n            padding: 0 5px;\n        }\n    }\n\n    .drag-over {\n        background-color: var(--neko-gray-30);\n        color: var(--neko-white);\n    }\n\n    .neko-modal-edit-time {\n        .content-container {\n            text-align: center;\n        }\n    }\n\n    .zoom-photo-modal {\n        height: 85vh;\n        overflow: hidden;\n        & > div {\n            height: 100%;\n            width: 100%;\n        }\n        .content-container {\n            height: 100%;\n            margin-top: 0;\n        }\n    }\n\n    .rbc-event {\n        &.twitter {\n            background-color: ",";\n        }\n\n        &.instagram {\n            background-color: ",";\n        }\n\n        &.facebook {\n            background-color: ",";\n        }\n\n        &.linkedin {\n            background-color: ",";\n        }\n\n        &.pinterest {\n            background-color: ",";\n        }\n\n        &.mastodon {\n            background-color: ",";\n        }\n\n        &.disabled {\n            background-color: ",";\n        }\n    }\n"])),"#8A8888",Wn,Kn,$n,Jn,Xn,Qn,"#CACACA");function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function or(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=cr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||cr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ir(e){return function(e){if(Array.isArray(e))return lr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cr(e,t){if(e){if("string"==typeof e)return lr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ur(){ur=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==rr(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(rr(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function sr(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){sr(a,r,o,i,c,"next",e)}function c(e){sr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mr,yr,vr,gr,br,wr,Er={week:"week",month:"month",year:"year"},xr=Er.week,_r=function(e){return e&&Object.values(Er).includes(e)?e:xr},Rr=function(e,t){return"all"===t||e.account_id===t||"orphan"===t&&!N.some((function(t){return t.accountId===e.account_id}))},kr=[{title:"Current",value:"all",countKey:"current"},{title:"Draft",value:"draft",countKey:"draft"},{title:"Ready",value:"future",countKey:"ready"},{title:"Published",value:"published",countKey:"published"}],Pr=[{label:"One Week",value:Er.week},{label:"One Month",value:Er.month},{label:"One Year",value:Er.year}],Or="desc",Sr="grid",jr="list",Lr="calendar",Tr={all:"draft",draft:"draft",future:"future"},Ar=function(e,t){var n=new Date,r=Xt(n);r.setHours(0,0,0,0);var o=new Date(e);if(o.setHours(0,0,0,0),o.getTime()<=r.getTime())return 1;if(t===Er.month)return o.getMonth()-n.getMonth()+1;if(t===Er.year)return o.getFullYear()-n.getFullYear()+1;var a=o.getTime()-r.getTime(),i=Math.ceil(a/864e5);return Math.ceil(i/7)+1},Ir=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;var n="publish"===e.post_status,r="draft"===e.post_status,o=e.is_author&&r||!!t,a=e.is_author&&r||!!t;return hr(hr({},e),{},{isDraft:r,isPublished:n,canDelete:o,canModify:a})},Nr=0,Cr="sclegn_display_settings",Dr={filterBy:"all",serviceFilterBy:"all",page:1,limit:10,busy:!1,busyPublishedPosts:!1,stats:{current:"-",draft:"-",ready:"-",published:"-"},apiErrors:null,days:[],posts:[],publishedPosts:[],selectedPost:null,selectedPostId:null,selectedPosts:[],selectedPostIds:[],isLockedSelectedPost:!1,defaultPost:{post_content:null,thumbnail_ids:null,post_date:new Date,post_status:null,service_type:null,service_id:null,account_id:null},dragPost:null,loadingPostIds:[],daysPerPage:_r(I.days_per_page),postsPerDay:{},publishedPostsPerDay:{},filteredPosts:[],filteredPublishedPosts:[],socialPosts:[],modals:{newPost:!1,deletePost:!1,deletePosts:!1,editPost:!1,selectPhoto:!1,editTime:!1,zoomPhoto:!1,createPost:!1,hashtagsManager:!1,revive:!1},displaySettings:(gr=Cr,br={hidePastDays:!1,mode:Sr,order:"asc"},wr=localStorage.getItem(gr),wr?JSON.parse(wr):br),hasNoServices:0===N.length,isModerator:!1,shouldFetchPublishedPosts:!1,options:I,defaults:I.defaults,defaultService:I.default_service,lockedDates:I.locked_dates,draftEnabled:I.draft_enabled,publicAPI:I.public_api,aiSuggestions:I.ai_suggestions,hashtagsGroups:I.hashtags_groups,mutatePosts:(vr=fr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return vr.apply(this,arguments)}),mutateStats:(yr=fr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return yr.apply(this,arguments)}),mutatePublishedPosts:(mr=fr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return mr.apply(this,arguments)})},Mr="DISPLAY_SETTINGS_UPDATED",Fr="PAGE_UPDATED",Gr="LIMIT_UPDATED",zr="FILTER_UPDATED",Br="TOGGLE_MODAL",Yr="PUSH_BUSY",Ur="POP_BUSY",Vr="SET_PUBLISHED_POSTS",qr="POSTS_UPDATED",Hr="POSTS_TOTAL_UPDATED",Wr="PUBLISHED_POSTS_UPDATED",Kr="PUBLISHED_POSTS_TOTAL_UPDATED",$r="ERROR_UPDATED",Jr="POST_SELECTED",Xr="DRAFT_POST_SELECTED",Qr="POSTS_SELECTED",Zr="SET_POSTS_MUTATE",eo="SET_PUBLISHED_POSTS_MUTATE",to="DRAG_POST_UPDATED",no="IS_MODERATOR_UPDATED",ro="LOADING_POST_IDS_UPDATED",oo="DAYS_UPDATED",ao="FILTERED_POSTS_UPDATED",io="FILTERED_PUBLISHED_POSTS_UPDATED",co="SET_SHOULD_FETCH_PUBLISHED_POSTS",lo="SOCIAL_POSTS_UPDATED",uo="SETTINGS_UPDATED",so=function(e,t){switch(t.type){case Mr:var n=t.displaySettings;return function(e,t){localStorage.setItem(e,JSON.stringify(t))}(Cr,n),hr(hr({},e),{},{displaySettings:n});case qr:var r=t.postsPerDayData,o=Object.keys(r);if(!o.length)return hr(hr({},e),{},{postsPerDay:[],posts:[],selectedPost:null});var a=o.map((function(e){return r[e]})),i=[].concat.apply([],a).map((function(e){var t=null!=e&&e.post_date?new Date(e.post_date):null;return hr(hr({},e),{},{post_date:t})})),c=e.selectedPostId?i.find((function(t){return t.id===e.selectedPostId})):null;return hr(hr({},e),{},{postsPerDay:r,posts:i,selectedPost:Ir(c,e.isModerator)});case Wr:var l=t.publishedPostsPerDayData,u=Object.keys(l);if(!u.length)return hr(hr({},e),{},{publishedPostsPerDay:[],publishedPosts:[],selectedPost:null});var s=u.map((function(e){return l[e]})),f=[].concat.apply([],s).map((function(e){var t=null!=e&&e.post_date?new Date(e.post_date):null;return hr(hr({},e),{},{post_date:t})})),p=e.selectedPostId?f.find((function(t){return t.id===e.selectedPostId})):null;return hr(hr({},e),{},{publishedPostsPerDay:l,publishedPosts:f,selectedPost:Ir(p,e.isModerator)});case ao:var h=t.posts,d=t.filterBy,m=t.serviceFilterBy,y=h.filter((function(e){return"all"===d||e.post_status===d})).filter((function(e){return Rr(e,m)})).map((function(e){return e})),v=e.selectedPostId?y.find((function(t){return t.id===e.selectedPostId})):null;return hr(hr({},e),{},{filteredPosts:y,selectedPost:Ir(v,e.isModerator)});case io:var g=t.publishedPosts,b=t.serviceFilterBy,w=g.filter((function(e){return Rr(e,b)})).map((function(e){return e})),E=e.selectedPostId?w.find((function(t){return t.id===e.selectedPostId})):null;return hr(hr({},e),{},{filteredPublishedPosts:w,selectedPost:Ir(E,e.isModerator)});case Hr:var x=t.posts,_=t.serviceFilterBy,R=hr({},e.stats),k=0,P=0;return x.filter((function(e){return Rr(e,_)})).forEach((function(e){"draft"===e.post_status?k++:P++})),R.draft=k,R.ready=P,R.current=k+P,hr(hr({},e),{},{stats:R});case Kr:var O=t.publishedPosts,S=t.serviceFilterBy,j=hr({},e.stats),L=O.filter((function(e){return Rr(e,S)})).map((function(e){return e}));return j.published=L.length,hr(hr({},e),{},{stats:j});case Jr:var T,A,I=t.postId,N=t.next,C=void 0!==N&&N,D=t.forced,M=void 0!==D&&D;if(C){var F=e.posts.findIndex((function(e){return e.id===I}));A=F===e.posts.length-1?hr({},e.posts[F-1]):hr({},e.posts[F+1])}var G=C?A:[].concat(ir(e.posts),ir(e.publishedPosts)).find((function(e){return e.id===I}));if(!G&&M)return hr(hr({},e),{},{selectedPost:null,selectedPostId:I});var z=!(null==G||!G.id)&&e.lockedDates.some((function(e){return qt(e,G.post_date)}));return hr(hr({},e),{},{selectedPost:Ir(null!=G&&G.id?G:null,e.isModerator),selectedPostId:null!==(T=null==G?void 0:G.id)&&void 0!==T?T:null,isLockedSelectedPost:z});case Xr:var B=t.post;return hr(hr({},e),{},{selectedPost:Ir(B,e.isModerator),selectedPostId:null});case Qr:var Y=t.postIds,U=Y.length?e.posts.filter((function(e){return Y.includes(e.id)})).map((function(t){return Ir(t,e.isModerator)})):[];return hr(hr({},e),{},{selectedPosts:U,selectedPostIds:Y});case"STATS_UPDATED":var V=t.stats;return hr(hr({},e),{},{stats:V});case $r:var q=t.apiErrors;return hr(hr({},e),{},{apiErrors:q});case Fr:var H=t.page;return hr(hr({},e),{},{page:H});case Zr:var W=t.mutatePosts;return hr(hr({},e),{},{mutatePosts:W});case eo:var K=t.mutatePublishedPosts;return hr(hr({},e),{},{mutatePublishedPosts:K});case Gr:var $=t.limit;return hr(hr({},e),{},{limit:$});case zr:var J=t.filter,X=t.serviceFilter;return hr(hr({},e),{},{filterBy:J,serviceFilterBy:X});case Br:var Q=t.modal,Z=t.enable;if(void 0===e.modals[Q])return alert("The modal ".concat(Q," doesn't exist.")),console.error("The modal ".concat(Q," doesn't exist.")),e;void 0===Z&&(Z=!e.modals[Q]);var ee=hr({},e);return ee.modals=hr({},ee.modals),ee.modals[Q]=Z,ee;case Yr:return hr(hr({},e),{},{busy:++Nr>0});case Ur:return hr(hr({},e),{},{busy:--Nr>0});case Vr:var te=t.loaded,ne=t.busy;return te?hr(hr({},e),{},{busyPublishedPosts:ne}):hr({},e);case to:var re=t.post;return hr(hr({},e),{},{dragPost:re});case no:var oe=t.isModerator;return hr(hr({},e),{},{isModerator:oe});case ro:var ae=t.postIds;return hr(hr({},e),{},{loadingPostIds:ae});case oo:var ie=t.daysPerPage,ce=t.order,le=t.page,ue=ie===Er.month,se=ie===Er.year,fe=!ue&&!se,pe=new Date;fe||(pe.setDate(1),se&&pe.setMonth(0)),1!=le&&(ue?pe.setMonth(pe.getMonth()+(le-1)):se?pe.setFullYear(pe.getFullYear()+(le-1)):pe.setDate(pe.getDate()+7*(le-1)));var he=fe?(Ne=(Ie=new Date(pe)).getDay(),Ce=Ie.getDate()-Ne+(0==Ne?-6:1),new Date(Ie.setDate(Ce))):pe,de=Xt(he);ue?(Ae=he,de=new Date(Ae.getFullYear(),Ae.getMonth()+1,0)):se&&(de=function(e){return new Date(e.getFullYear()+1,0,0)}(he));var me=function(e,t){new Date;for(var n=Math.abs(t-e),r=Math.ceil(n/864e5),o=[e],a=1;a<=r;a++){var i=new Date(e);i.setDate(i.getDate()+a),o.push(i)}return o}(he,de);return hr(hr({},e),{},ce===Or?{days:me.reverse()}:{days:me});case co:return hr(hr({},e),{},{shouldFetchPublishedPosts:!0});case lo:var ye=t.filterBy,ve=t.filteredPosts,ge=t.filteredPublishedPosts,be=t.days,we=t.defaults,Ee="published"===ye?ge:ve,xe=function(e,t){return e.account_id===t.account_id&&e.post_date.getTime()===t.post_date.getTime()},_e=be.map((function(e){var t,n,r=Yt(e),o=Ee.filter((function(t){return qt(t.post_date,e)}));if("published"===ye||"future"===ye)return{date:e,posts:o};var a=null==we||null===(t=we.filter((function(e){return e.postTime[r]})))||void 0===t?void 0:t.map((function(t){return t.postTime[r].times.map((function(n){return{isEmpty:!0,account_id:t.accountId,post_date:Wt(e,n)}})).flat()})).flat(),i=o.filter((function(e){return!(null!=a&&a.some((function(t){return xe(e,t)})))})),c=null!==(n=null==a?void 0:a.map((function(e){return o.some((function(t){return xe(e,t)}))?o.filter((function(t){return xe(e,t)})):e})).flat())&&void 0!==n?n:[];return{date:e,posts:[].concat(ir(c),ir(i)).sort((function(e,t){return new Date(e.post_date)-new Date(t.post_date)}))}}));return hr(hr({},e),{},{socialPosts:_e});case uo:var Re=t.options,ke=Re.defaults,Pe=Re.locked_dates,Oe=Re.draft_enabled,Se=(Re.public_api,Re.ai_suggestions),je=_r(Re.days_per_page),Le=Re.default_service,Te=Re.hashtags_groups;return hr(hr({},e),{},{options:Re,defaults:ke,lockedDates:Pe,draftEnabled:Oe,aiSuggestions:Se,daysPerPage:je,defaultService:Le,hashtagsGroups:Te});default:return e}var Ae,Ie,Ne,Ce},fo=(0,Ye.createContext)(),po=function(e){var t=e.children,n=ar((0,Ye.useReducer)(so,Dr),2),r=n[0],i=n[1],c=r.filterBy,l=r.serviceFilterBy,u=r.posts,s=r.publishedPosts,f=(0,o.jE)(),h=function(){var e=fr(ur().mark((function e(t){var n,r,o,i,c;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryKey,r=ar(n,2),o=r[0],i=r[1],e.next=4,(0,a.m9)(o,i);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=(0,Ye.useMemo)((function(){return[(0,a.mR)("".concat(O,"/social_posts"),{limit:100,skip:0,filterBy:"all",serviceFilterBy:"all",orderBy:"post_date",order:"desc",search:""}),{headers:{"X-WP-Nonce":T}}]}),[O,T,a.mR]),m=(0,Ye.useMemo)((function(){return[(0,a.mR)("".concat(O,"/social_posts"),{limit:-1,skip:0,filterBy:"published",serviceFilterBy:"all",orderBy:"post_date",order:"desc",search:""}),{headers:{"X-WP-Nonce":T}}]}),[O,T,a.mR,r.shouldFetchPublishedPosts]),y=(0,Ye.useMemo)((function(){return["".concat(O,"/is_moderator/"),{headers:{"X-WP-Nonce":T}}]}),[O,T]),v=(0,p.I)({queryKey:d,queryFn:h}),g=v.data,b=v.error,w=v.isLoading,E=(0,Ye.useCallback)(fr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.invalidateQueries({queryKey:d});case 2:case"end":return e.stop()}}),e)}))),[f,d]),x=(0,Ye.useMemo)((function(){var e;return null!==(e=null==g?void 0:g.data)&&void 0!==e?e:[]}),[g]);(0,Ye.useEffect)((function(){i({type:w?Yr:Ur})}),[w]),(0,Ye.useEffect)((function(){i({type:qr,postsPerDayData:x})}),[x]),(0,Ye.useEffect)((function(){i({type:Hr,posts:u,serviceFilterBy:l})}),[u,l]),(0,Ye.useEffect)((function(){i({type:$r,apiError:b})}),[b]),(0,Ye.useEffect)((function(){i({type:ao,posts:u,filterBy:c,serviceFilterBy:l})}),[u,c,l]);var _=(0,p.I)({queryKey:m,queryFn:h}),R=_.data,k=_.error,P=_.isLoading,S=(0,Ye.useCallback)(fr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.invalidateQueries({queryKey:m});case 2:case"end":return e.stop()}}),e)}))),[f,m]),j=(0,Ye.useMemo)((function(){var e;return null!==(e=null==R?void 0:R.data)&&void 0!==e?e:[]}),[R]);(0,Ye.useEffect)((function(){i({type:Vr,loaded:r.shouldFetchPublishedPosts,busy:P})}),[P,r.shouldFetchPublishedPosts]),(0,Ye.useEffect)((function(){i({type:Wr,publishedPostsPerDayData:j})}),[j]),(0,Ye.useEffect)((function(){i({type:Kr,publishedPosts:s,serviceFilterBy:l})}),[s,l]),(0,Ye.useEffect)((function(){i({type:$r,apiError:k})}),[k]),(0,Ye.useEffect)((function(){i({type:io,publishedPosts:s,serviceFilterBy:l})}),[s,l]);var L=r.daysPerPage,A=r.displaySettings.order,I=r.page;(0,Ye.useEffect)((function(){i({type:oo,daysPerPage:L,order:A,page:I})}),[L,A,I]);var N=r.filteredPosts,C=r.filteredPublishedPosts,D=r.days,M=r.defaults;(0,Ye.useEffect)((function(){i({type:lo,filterBy:c,filteredPosts:N,filteredPublishedPosts:C,days:D,defaults:M})}),[c,N,C,D,M]);var F=(0,p.I)({queryKey:y,queryFn:h}),G=F.data,z=F.error,B=F.isLoading,Y=(0,Ye.useCallback)((function(){var e,t,n=null!==(e=null==G||null===(t=G.data)||void 0===t?void 0:t.is_moderator)&&void 0!==e&&e;return i({type:no,isModerator:n}),n}),[G]);return(0,Ye.useEffect)((function(){i({type:B?Yr:Ur})}),[B]),(0,Ye.useEffect)((function(){i({type:no,isModerator:Y})}),[Y]),(0,Ye.useEffect)((function(){i({type:$r,apiError:z})}),[z]),(0,Ye.useEffect)((function(){i({type:Zr,mutatePosts:E})}),[E]),(0,Ye.useEffect)((function(){i({type:eo,mutatePublishedPosts:S})}),[S]),React.createElement(fo.Provider,{value:[r,i]},t)};const ho=function(){var e={},t=ar((0,Ye.useContext)(fo),2),n=t[0],r=t[1];return e.updateDisplaySettings=function(){var e=fr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:Mr,displaySettings:t}),t.hidePastDays&&n.page<1&&r({type:Fr,page:1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.addPost=function(){var e=fr(ur().mark((function e(t){var o,i,c,l,u,s,f;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Date,i=new Date(t.post_date),c=n.defaults.find((function(e){return e.accountId===t.account_id})),l=!t.post_content&&null!=c&&c.postContent?c.postContent:t.post_content,o.getTime()>=i.getTime()&&i.setDate(i.getDate()+1),r({type:Yr}),u=null,e.prev=7,e.next=10,(0,a.Tb)("".concat(O,"/create_social_post"),{nonce:T,json:{thumbnail_ids:t.thumbnail_ids,post_content:l,service_id:t.service_id,account_id:t.account_id,service_type:t.service_type,post_status:t.post_status,post_link:t.post_link,post_date:Ht(i)}});case 10:if((s=e.sent).success){e.next=13;break}throw new Error(null!==(f=s.message)&&void 0!==f?f:"Failed to create the new social post.");case 13:u=s.data.post_id,e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),alert(e.t0),console.error("addPost",e.t0);case 20:return r({type:Ur}),e.next=23,n.mutatePosts();case 23:return u&&(r({type:Jr,postId:u,forced:!0}),r({type:Fr,page:Ar(i,n.daysPerPage)})),e.next=26,n.mutatePosts();case 26:return e.next=28,n.mutatePublishedPosts();case 28:return n.mutateStats(),e.abrupt("return",u);case 30:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),e.updatePost=function(){var e=fr(ur().mark((function e(t){var o,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:Yr}),r({type:ro,postIds:[t.id]}),e.prev=2,e.next=5,(0,a.Tb)("".concat(O,"/update_social_post"),{nonce:T,json:{id:t.id,thumbnail_ids:t.thumbnail_ids,post_content:t.post_content,service_id:t.service_id,account_id:t.account_id,service_type:t.service_type,post_status:t.post_status,post_ai_suggestions:t.post_ai_suggestions,post_date:Ht(t.post_date)}});case 5:if((o=e.sent).success){e.next=8;break}throw new Error(null!==(i=o.message)&&void 0!==i?i:"Failed to update the social post.");case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),alert(e.t0),console.error("updatePost",e.t0);case 14:return r({type:Ur}),r({type:ro,postIds:[]}),e.next=18,n.mutatePosts();case 18:n.mutateStats();case 19:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),e.updatePosts=function(){var e=fr(ur().mark((function e(t){var o,i,c,l,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:Yr}),r({type:ro,postIds:t.map((function(e){return e.id}))}),o=[],i=or(t),e.prev=4,i.s();case 6:if((c=i.n()).done){e.next=22;break}return l=c.value,e.prev=8,e.next=11,(0,a.Tb)("".concat(O,"/update_social_post"),{nonce:T,json:{id:l.id,thumbnail_ids:l.thumbnail_ids,post_content:l.post_content,service_id:l.service_id,account_id:l.account_id,service_type:l.service_type,post_status:l.post_status,post_date:Ht(l.post_date)}});case 11:if((u=e.sent).success){e.next=14;break}throw new Error(null!==(s=u.message)&&void 0!==s?s:"Failed to update the social post.");case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),o.push(e.t0),console.error("updatePost",l.id,e.t0);case 20:e.next=6;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(4),i.e(e.t1);case 27:return e.prev=27,i.f(),e.finish(27);case 30:return o.length&&alert(o.join("\n")),r({type:Ur}),r({type:ro,postIds:[]}),e.next=35,n.mutatePosts();case 35:n.mutateStats();case 36:case"end":return e.stop()}}),e,null,[[4,24,27,30],[8,16]])})));return function(t){return e.apply(this,arguments)}}(),e.updatePostParam=function(){var e=fr(ur().mark((function e(t,o){var i,c,l;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:Yr}),r({type:ro,postIds:[o]}),i=n.posts.find((function(e){return e.id===o})),e.prev=3,e.next=6,(0,a.Tb)("".concat(O,"/update_social_post"),{nonce:T,json:hr({id:i.id,thumbnail_ids:i.thumbnail_ids,post_content:i.post_content,service_id:i.service_id,account_id:i.account_id,service_type:i.service_type,post_status:i.post_status,post_date:Ht(i.post_date)},t)});case 6:if((c=e.sent).success){e.next=9;break}throw new Error(null!==(l=c.message)&&void 0!==l?l:"Failed to update the social post.");case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),alert(e.t0),console.error("updatePost",e.t0);case 15:return r({type:Ur}),r({type:ro,postIds:[]}),e.next=19,n.mutatePosts();case 19:n.mutateStats();case 20:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}(),e.updateOption=function(){var e=fr(ur().mark((function e(t,o){var i,c;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:Yr}),i=hr(hr({},n.options),{},dr({},t,o)),e.prev=2,e.next=5,(0,a.Tb)("".concat(O,"/update_option"),{json:{options:i},nonce:T});case 5:(c=e.sent).success?r({type:uo,options:c.options}):alert(c.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 12:return e.prev=12,r({type:Ur}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t,n){return e.apply(this,arguments)}}(),e.deletePosts=function(){var e=fr(ur().mark((function e(t){var o,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:Yr}),r({type:ro,postIds:[t]}),e.prev=2,e.next=5,(0,a.Tb)("".concat(O,"/delete_social_posts"),{nonce:T,json:{ids:t}});case 5:if((o=e.sent).success){e.next=8;break}throw new Error(null!==(i=o.message)&&void 0!==i?i:"Failed to delete the social post.");case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),alert(e.t0),console.error("deletePosts",e.t0);case 14:return r({type:Jr,postId:null}),r({type:Qr,postIds:[]}),r({type:Ur}),r({type:ro,postIds:[]}),e.next=20,n.mutatePosts();case 20:return e.next=22,n.mutatePublishedPosts();case 22:return e.next=24,n.mutateStats();case 24:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),e.publishNow=function(){var e=fr(ur().mark((function e(t){var o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:Yr}),e.prev=1,e.next=4,(0,a.Tb)("".concat(O,"/publish_now"),{json:{post_id:t},nonce:T});case 4:if(o=e.sent,console.log("RESPONSE",o),o.success){e.next=8;break}throw new Error(o.message);case 8:n.mutatePosts(),n.mutateStats(),n.shouldFetchPublishedPosts?n.mutatePublishedPosts():r({type:co}),r({type:zr,filter:"published",serviceFilter:n.serviceFilterBy}),r({type:Fr,page:1}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),alert(e.t0.message);case 18:r({type:Ur});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),e.selectPost=function(){var e=fr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:Jr,postId:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.selectPostAsDraft=function(){var e=fr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:Xr,post:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.selectPosts=function(){var e=fr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:Qr,postIds:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.dragPostStart=function(e){r({type:to,post:e})},e.dragPostEnd=function(){r({type:to,post:null})},e.dropPost=function(){var t=fr(ur().mark((function t(o){var a,i;return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.dragPost){t.next=2;break}return t.abrupt("return");case 2:if(qt(n.dragPost.post_date,o)){t.next=7;break}return a=new Date(n.dragPost.post_date),i=new Date(o.getFullYear(),o.getMonth(),o.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),t.next=7,e.updatePost(hr(hr({},n.dragPost),{},{post_date:i}));case 7:r({type:to,post:null});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setPage=function(e){r({type:Fr,page:e})},e.setLimit=function(e){r({type:Gr,limit:e})},e.setFilter=function(e,t){r({type:zr,filter:e,serviceFilter:t})},e.setShouldFetchPublishedPosts=function(){r({type:co})},e.toggleModal=function(e){r({type:Br,modal:e,enable:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0})},e.pushBusy=function(){r({type:Yr})},e.popBusy=function(){r({type:Ur})},hr(hr({},n),e)};var mo,yo=n(9465),vo=n(8482),go=Y.Ay.div(mo||(mo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    border-radius: 5px;\n    background-color: var(--neko-white);\n    box-sizing: border-box;\n    filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.3));\n    cursor: pointer;\n    height: 130px;\n    width: 100%;\n    transition: box-shadow 0.2s ease-in-out;\n\n    &.revive-modal {\n        filter: none;\n        height: auto;\n        cursor: inherit;\n    }\n\n    &.add {\n        align-items: center;\n        background-color: var(--neko-gray);\n        border: 1px solid var(--neko-dark-gray);\n        justify-content: center;\n        margin: 0 auto;\n        width: 85%;\n    }\n\n    &.twitter {\n        background-color: ",";\n    }\n\n    &.instagram {\n        background-color: ",";\n    }\n\n    &.facebook {\n        background-color: ",";\n    }\n\n    &.linkedin {\n        background-color: ",";\n    }\n\n    &.pinterest {\n        background-color: ",";\n    }\n\n    &.mastodon {\n        background-color: ",";\n    }\n\n    &.none {\n        background-color: var(--neko-dark-gray);\n    }\n\n    &.selected {\n        border-width: 2px;\n        border-style: solid;\n        filter: none;\n\n        &.twitter {\n            border-color: ",";\n        }\n\n        &.instagram {\n            border-color: ",";\n        }\n\n        &.facebook {\n            border-color: ",";\n        }\n\n        &.linkedin {\n            border-color: ",";\n        }\n\n        &.pinterest {\n            border-color: ",";\n        }\n\n        &.mastodon {\n            border-color: ",";\n        }\n\n        &.none {\n            border-color: var(--neko-dark-gray);\n        }\n\n        .header {\n            font-weight: bold;\n        }\n\n        &.grid {\n            .header {\n                height: 31.5px;\n            }\n            .body {\n                height: 67.5px;\n            }\n        }\n\n        &.list {\n            .header {\n                height: 29.5px;\n            }\n        }\n\n        &.calendar {\n            .body {\n                height: 40px;\n\n                .thumbnail,\n                .uploader {\n                    height: 57px;\n                    width: 32px;\n                }\n            }\n            .footer {\n                height: 19px;\n            }\n        }\n    }\n\n    .header {\n        align-items: center;\n        box-sizing: border-box;\n        color: var(--neko-white);\n        display: flex;\n        height: 33.5px;\n        justify-content: space-between;\n        padding: 5px 104px 5px 2px;\n\n        p {\n            margin: 0;\n        }\n\n        .group {\n            align-items: center;\n            display: flex;\n\n            div {\n                align-items: center;\n                display: flex;\n            }\n        }\n\n        .thumbnail {\n            height: 33.5px;\n            width: 33.5px;\n        }\n\n        .excerpt {\n            opacity: 0.3;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            width: 30%;\n        }\n    }\n\n    .body {\n        background: var(--neko-white);\n        box-sizing: border-box;\n        display: flex;\n        height: 69.5px;\n        padding: 9px 15px;\n        position: relative;\n\n        .thumbnail {\n            height: 83px;\n            position: absolute;\n            right: 10px;\n            top: -23px;\n            width: 83px;\n        }\n\n        .uploader {\n            height: 83px;\n            position: absolute;\n            right: 10px;\n            top: -23px;\n            width: 83px;\n\n            > div {\n                height: 100%;\n            }\n        }\n    }\n\n    .footer {\n        align-items: center;\n        box-sizing: border-box;\n        color: var(--neko-white);\n        display: none;\n        height: 20px;\n        justify-content: space-between;\n        padding: 0;\n        position: relative;\n\n        .thumbnail {\n            position: absolute;\n            height: 83px;\n            right: 0;\n            bottom: 0;\n            width: 83px;\n        }\n\n        .uploader {\n            position: absolute;\n            height: 83px;\n            right: 0;\n            bottom: 0;\n            width: 83px;\n\n            > div {\n                height: 100%;\n            }\n        }\n\n        .neko-select-option {\n            height: 100%;\n        }\n\n        p {\n            margin: 0;\n        }\n    }\n\n    .thumbnail {\n        .thumbnail-content {\n            position: relative;\n            height: 100%;\n            width: 100%;\n\n            &.disabled {\n                opacity: 0.5;\n                filter: grayscale(100%);\n            }\n\n            img {\n                height: auto;\n                object-fit: cover;\n                height: 100%;\n                width: 100%;\n                border-radius: 5px;\n            }\n\n            .thumbnail-content-placeholder {\n                align-items: center;\n                background-color: rgba(0, 0, 0, 0.4);\n                border-radius: 5px;\n                display: flex;\n                height: 100%;\n                justify-content: center;\n                position: absolute;\n                width: 100%;\n\n                svg {\n                    color: var(--neko-white);\n                    height: 40px;\n                    width: 40px;\n                }\n            }\n\n            .thumbnail-content-counter {\n                background-color: rgba(0, 0, 0, 0.4);\n                border-radius: 10px;\n                bottom: 4px;\n                color: var(--neko-white);\n                display: flex;\n                flex-direction: column;\n                font-size: 10px;\n                height: 20px;\n                justify-content: center;\n                margin: 0;\n                position: absolute;\n                right: 4px;\n                text-align: center;\n                width: 20px;\n            }\n\n            .thumbnail-content-draft {\n                bottom: 0;\n                display: flex;\n                justify-content: center;\n                left: 0;\n                opacity: .6;\n                position: absolute;\n                right: 0;\n                top: 0;\n            }\n        }\n    }\n\n    .text {\n        margin: 0;\n        margin-right: 80px;\n        font-size: 13px;\n        line-height: 17px;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3;\n        overflow: hidden;\n    }\n\n    .sns-icon {\n        color: var(--neko-white);\n        display: flex;\n        justify-content: center;\n        margin-right: 9px;\n    }\n\n    .button {\n        font-size: 12px;\n        margin-left: 8px;\n\n        &.danger {\n            color: var(--neko-white);\n        }\n    }\n\n    .service {\n        color: var(--neko-white);\n\n        &.twitter {\n            div {\n                background-color: ",";\n            }\n        }\n\n        &.facebook {\n            div {\n                background-color: ",";\n            }\n        }\n\n        &.instagram {\n            div {\n                background-color: ",";\n            }\n        }\n\n        &.linkedin {\n            div {\n                background-color: ",";\n            }\n        }\n\n        &.pinterest {\n            div {\n                background-color: ",";\n            }\n        }\n\n        &.mastodon {\n            div {\n                background-color: ",';\n            }\n        }\n\n        &.none {\n            div {\n                background-color: var(--neko-dark-gray);\n            }\n        }\n\n        &.show-options {\n            background-color: inherit;\n        }\n\n        div {\n            border: 0;\n        }\n\n        .nui-option {\n            margin-top: 28px;\n            padding-top: 0;\n            width: auto;\n        }\n    }\n\n    [data-is-disabled="disabled"] .nui-switch-slider {\n        cursor: pointer;\n    }\n\n\n    &.create-post-modal {\n        height: 190px;\n        margin-bottom: 8px;\n\n        .header {\n            padding-right: 190px;\n        }\n\n        .body {\n            height: 132.5px;\n\n            .thumbnail,\n            .uploader {\n                height: 146px;\n                width: 146px;\n            }\n        }\n    }\n\n    &.grid {\n        .header {\n            border-radius: 5px 5px 0 0;\n        }\n        .body {\n            border-radius: 0 0 5px 5px;\n        }\n    }\n\n    &.list {\n        margin-left: 0;\n        height: 33.5px;\n\n        .header {\n            border-radius: 5px;\n            padding: 0 0 0 15px;\n            overflow: hidden;\n        }\n\n        .body {\n            display: none;\n        }\n\n        .footer {\n            display: none;\n        }\n    }\n\n    &.calendar {\n        height: 61px;\n\n        .text {\n            margin-right: 50px;\n            font-size: 8px;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 3;\n            overflow: hidden;\n        }\n\n        .header {\n            display: none;\n        }\n\n        .body {\n            border-radius: 5px 5px 0 0;\n            height: 41px;\n            padding: 4px 0 4px 7px;\n            margin-right: 7px;\n\n            .thumbnail,\n            .uploader {\n                border-radius: 0 5px 5px 0;\n                height: 61px;\n                overflow: hidden;\n                right: -7px;\n                top: 0;\n                width: 32px;\n                z-index: 9;\n            }\n        }\n\n        .footer {\n            border-radius: 0 0 5px 5px;\n            display: flex;\n\n            .nui-select {\n                & > div {\n                    height: auto;\n                    padding-left: 4px;\n                }\n            }\n\n            .nui-select-option-label {\n                font-size: 8px;\n                overflow: hidden;\n                text-align: left;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n                width: 38px;\n            }\n        }\n    }\n'])),Wn,Kn,$n,Jn,Xn,Qn,Wn,Kn,$n,Jn,Xn,Qn,Wn,$n,Kn,Jn,Xn,Qn),bo=["post","isLocked"];function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wo.apply(null,arguments)}var Eo,xo=wp.element.useMemo,_o=function(e){var t=e.post,n=e.isLocked,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,bo),o=ho(),a=o.selectedPostId,i=o.selectedPostIds,c=o.isModerator,l=o.filterBy,u=o.loadingPostIds,s=o.draftEnabled,f=o.displaySettings.mode,p=ho(),h=p.selectPost,m=p.toggleModal,y=p.updatePostParam,v=Ir(t,c),g=v.id,b=v.account_id,w=v.service_type,E=v.thumbnail_urls,x=v.post_content,_=v.post_link,R=v.post_date,k=v.isDraft,P=v.canModify,S=N.some((function(e){return e.accountId===b})),j=w&&!S,L="".concat(w&&S?w:"none"),A="published"===l,I=G(w,b)<x.length,D=function(){n?alert("This post is locked now."):(h(t.id),m("selectPhoto",!0))},M=xo((function(){if(!E.length&&f===jr)return React.createElement("div",{className:"thumbnail"});if(E.length){var e=f===Lr&&k?React.createElement("div",{className:"thumbnail-content-draft"},React.createElement(Nt.z,{icon:"pencil",color:"white"})):null;return React.createElement("div",{className:"thumbnail",onClick:D},React.createElement("div",{className:"thumbnail-content"},React.createElement("img",{src:E[0]}),e,E.length>1&&React.createElement("p",{className:"thumbnail-content-counter"},E.length)))}var r=f===Lr?20:36;return React.createElement("div",{className:"uploader"},React.createElement(yo.T,{accept:"image/jpeg",onClick:function(){n?alert("This post is locked now."):P?m("selectPhoto",!0):alert("Only moderator of Social Engine can modify photos.")},onSuccess:function(e){y({thumbnail_ids:[e.data.thumbnail_id],thumbnail_urls:[e.data.thumbnail_url]},t.id)},onFailure:function(e){alert(en(e))},apiUrl:"".concat(O,"/upload_image"),apiConfig:{nonce:T},iconSize:r,disabled:n||!P}))}),[t.thumbnail_urls,P,k,f,n]);return React.createElement(go,wo({className:"schedule-post ".concat(f," ").concat(L," ").concat(g===a||i.includes(g)?"selected":"")},r),React.createElement(It.A,{busy:u.includes(g)},React.createElement("div",{className:"header ".concat(L)},!S&&React.createElement("span",{style:{padding:15,color:"gray"}},"No Account"),S&&React.createElement(ke.u,{name:"sclegn-service",className:"service ".concat(L),scrolldown:!0,onChange:function(e){var n=N.find((function(t){return t.accountId===e}));y({service_type:n.type,service_id:n.serviceId,account_id:e},t.id)},value:b,disabled:n||!P},N.map((function(e){return React.createElement(ke.j,{id:e.accountId,icon:e.type,value:e.accountId,label:e.name})}))),f===jr&&React.createElement(d.s,{p:!0,className:"excerpt"},x),React.createElement("div",{className:"group"},I&&React.createElement(Nt.z,{icon:"alert",color:"var(--neko-white)"}),!A&&s&&React.createElement(vo.S,{width:"62px",height:"21px",fontSize:"9px",onLabel:C.ready.toUpperCase(),onValue:C.ready,disabled:n||Kt(t.post_date)||!c||!s||j,offValue:C.draft,offLabel:C.draft.toUpperCase(),onBackgroundColor:"rgba(0, 0, 0, 0.35)",offBackgroundColor:"rgba(255, 255, 255, 0.35)",onChange:function(e){e===C.ready?y({post_status:"future"},t.id):e===C.draft&&y({post_status:"draft"},t.id)},checked:!k,style:{marginLeft:"9px"}}),React.createElement("div",{onClick:function(){P&&m("editTime",!0)}},React.createElement(Nt.z,{icon:"timer-outline",width:"20",height:"20",style:{marginLeft:"15px"}}),React.createElement(d.s,{p:!0,style:{marginLeft:"9px",marginRight:"10px"}},Vt(R))),f===jr&&M)),React.createElement("div",{className:"body ".concat(L)},M,React.createElement(d.s,{p:!0,className:"text",title:x},x)),React.createElement("div",{className:"footer ".concat(L),style:{display:"block"}},_&&React.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"5px"}},React.createElement(Nt.z,{icon:"link",width:"16",height:"16",style:{margin:"0 5px"},onClick:function(){return window.open(_,"_blank")}}),React.createElement(d.s,{p:!0,className:"text",title:_},_)))))},Ro=Y.Ay.div(Eo||(Eo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    border-radius: 5px;\n    background-color: var(--neko-white);\n    box-sizing: border-box;\n    color: var(--neko-white);\n    cursor: pointer;\n    height: 103px;\n    width: 100%;\n    transition: box-shadow 0.2s ease-in-out;\n    background-color: #EAEAEA; \n    border-color: var(--neko-light-gray);\n    color: var(--neko-dark-gray);\n\n    &.disabled {\n        cursor: not-allowed;\n    }\n\n    & > div {\n        height: 100%;\n    }\n\n    p {\n        margin: 0;\n    }\n\n    .header {\n        align-items: center;\n        box-sizing: border-box;\n        display: flex;\n        justify-content: space-between;\n        padding: 5px 10px;\n\n        .group {\n            align-items: center;\n            display: flex;\n        }\n    }\n\n    &.grid {\n        .header {\n            height: 33.5px;\n        }\n\n        .calendar-header {\n            display: none;\n        }\n\n        .body {\n            box-sizing: border-box;\n            display: flex;\n            height: 69.5px;\n            justify-content: center;\n        }\n\n        .list-body,\n        .calendar-body {\n            display: none;\n        }\n    }\n\n    &.list {\n        margin-left: 0;\n        height: 43.5px;\n        position: relative;\n\n        .header {\n            height: 43.5px;\n        }\n\n        .calendar-header {\n            display: none;\n        }\n\n        .body,\n        .calendar-body {\n            display: none;\n        }\n\n        .list-body {\n            align-items: center;\n            display: flex;\n            flex-direction: column;\n            height: 100%;\n            justify-content: center;\n            position: absolute;\n            top: 0;\n            width: 100%;\n        }\n    }\n\n    &.calendar {\n        margin-left: 0;\n        height: 61px;\n        position: relative;\n\n        .header {\n            display: none;\n        }\n\n        .calendar-header {\n            display: block;\n            height: 43.5px;\n\n            div {\n                padding: 6px\n            }\n        }\n\n        .body,\n        .list-body {\n            display: none;\n        }\n\n        .calendar-body {\n            align-items: center;\n            display: flex;\n            flex-direction: column;\n            height: 61px;\n            justify-content: center;\n            position: absolute;\n            top: 0;\n            width: 100%;\n\n            p {\n                font-size: 10px;\n                margin-top: 4px;\n                overflow: hidden;\n                text-align: center;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n                width: 120px;\n            }\n        }\n    }\n"])));function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}var Po=["accountId","postDate","postStatus","basePost"];function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oo.apply(null,arguments)}function So(){So=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ko(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ko(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function jo(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var To,Ao,Io=wp.element.useState,No=function(e){var t=e.accountId,n=e.postDate,r=e.postStatus,o=e.basePost,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Po),i=ho(),c=i.defaults,l=i.displaySettings.mode,u=ho(),s=u.addPost,f=u.selectPost,p=F(t),h=null==c?void 0:c.find((function(e){return e.accountId===t})),m=new Date(n)>new Date,y=(null==p?void 0:p.type)+" "+(m?"":"disabled"),v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Io(!1),2),g=v[0],b=v[1],w=function(){var e,a=(e=So().mark((function e(){var a,i;return So().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(null),b(!0),e.next=4,s({post_content:null!==(a=null==o?void 0:o.post_content)&&void 0!==a?a:null==h?void 0:h.postContent,thumbnail_ids:null!==(i=null==o?void 0:o.thumbnail_ids)&&void 0!==i?i:null,post_date:new Date(n),post_status:r,service_type:p.type,service_id:p.serviceId,account_id:t});case 4:b(!1);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){jo(a,r,o,i,c,"next",e)}function c(e){jo(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}();return p?React.createElement(Ro,Oo({className:"empty-schedule-post ".concat(l," ").concat(y)},a),React.createElement(It.A,{busy:g},React.createElement("div",{className:"header"},React.createElement("div",{className:"group"},React.createElement(Nt.z,{icon:p.type,width:"20",height:"20"}),React.createElement(d.s,{p:!0,style:{marginLeft:"9px"}},p.name)),React.createElement("div",{className:"group"},React.createElement(Nt.z,{icon:"timer-outline",width:"20",height:"20",style:{marginLeft:"15px"}}),React.createElement(d.s,{p:!0,style:{marginLeft:"9px",marginRight:"10px"}},Vt(n)))),React.createElement("div",{className:"calendar-header"},React.createElement(Nt.z,{icon:p.type,color:"white",width:"20",height:"20"})),m&&React.createElement(React.Fragment,null,React.createElement("div",{className:"list-body"},React.createElement(x.M,{icon:"plus",onClick:w,rounded:!0,color:Zn[p.type],width:30})),React.createElement("div",{className:"calendar-body"},React.createElement(x.M,{icon:"plus",onClick:w,rounded:!0,color:Zn[p.type],width:30,height:30}),React.createElement(d.s,{p:!0},p.name)),React.createElement("div",{className:"body"},React.createElement(x.M,{icon:"plus",onClick:w,rounded:!0,color:Zn[p.type],width:40,height:40}))))):null},Co=n(1199),Do=Y.Ay.div(To||(To=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    background-color: var(--neko-white);\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);\n    padding: 12px 15px;\n\n    h1 {\n        font-size: 14px;\n        font-weight: bold;\n        margin-bottom: 0;\n    }\n\n    .header {\n        align-items: center;\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 12px;\n    }\n\n    .button {\n        border: 1px solid black;\n        border-radius: 0;\n        color: black;\n        font-size: 12px;\n        font-weight: bold;\n        margin-top: 12px;\n        text-transform: uppercase;\n        width: 100%;\n\n        &:hover {\n            color: black;\n        }\n    }\n"]))),Mo=Y.Ay.div(Ao||(Ao=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n    .hashtags-manager-editor {\n        text-align: right;\n\n        .nui-settings-head {\n            display: flex;\n            justify-content: center;\n            flex-direction: column;\n        }\n\n        .add-button {\n            margin-top: 15px;\n        }\n    }\n\n    .hashtags-manager-list {\n        .hashtags-manager-list-item {\n            align-items: center;\n            display: flex;\n            justify-content: space-between;\n        }\n    }\n\n    .hashtags-group-name {\n        font-weight: bold;\n    }\n"])));function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function Go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(n),!0).forEach((function(t){Bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Fo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||Uo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){if(e){if("string"==typeof e)return Vo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vo(e,t):void 0}}function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qo=wp.element,Ho=qo.useState,Wo=qo.useCallback,Ko=function(){return"hgid"+Math.random().toString(16).slice(2)};const $o=function(e){var t=e.onSelectClick,n=ho(),r=n.busy,o=n.modals,a=n.hashtagsGroups,i=ho(),c=i.toggleModal,l=i.updateOption,u=Yo(Ho(!1),2),s=u[0],f=u[1],p=Yo(Ho({id:Ko(),name:"",hashtags:""}),2),h=p[0],y=p[1],v=s?React.createElement(x.M,{onClick:function(){return f(!1)}},"Cancel"):React.createElement(x.M,{style:{marginRight:"auto"},onClick:function(){y({id:Ko(),name:"",hashtags:""}),f(!0)}},"Create a new hashtag group"),g=Wo((function(){var e,t=a.filter((function(e){return h.id!==e.id}));l("hashtags_groups",[].concat(function(e){if(Array.isArray(e))return Vo(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Uo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[h])),f(!1)}),[a,h,l]),b=Wo((function(e){var t=a.filter((function(t){return t.id!==e}));l("hashtags_groups",t)}),[a,l]);return React.createElement(je.n,{isOpen:o.hashtagsManager,onRequestClose:function(){return c("hashtagsManager",!1)},id:"neko-modal-hashtags-manager",title:"Hashtags Manager",contentWidth:"750px",content:React.createElement(Mo,null,React.createElement(It.A,{busy:r},s?React.createElement("div",{className:"hashtags-manager-editor"},React.createElement(m.d,{title:"Name"},React.createElement(Se.A,{name:"sclegn-hashtag-group-name",value:h.name,onBlur:function(e){return y(zo(zo({},h),{},{name:e}))}})),React.createElement(m.d,{title:"Hashtags"},React.createElement(Se.A,{name:"sclegn-hashtag-group-hashtags",value:h.hashtags,onBlur:function(e){return y(zo(zo({},h),{},{hashtags:e}))}})),React.createElement(x.M,{className:"add-button",onClick:g},"Save")):React.createElement("ul",{className:"hashtags-manager-list"},a.map((function(e){return React.createElement("li",{key:e.id,className:"hashtags-manager-list-item"},React.createElement("div",null,React.createElement(d.s,{p:!0,className:"hashtags-group-name"},e.name),React.createElement(d.s,{p:!0},e.hashtags)),React.createElement("div",null,React.createElement(x.M,{onClick:function(){y(zo({},e)),f(!0)}},"Edit"),React.createElement(x.M,{className:"danger",onClick:function(){return b(e.id)}},"Delete"),React.createElement(x.M,{onClick:function(){t(e.hashtags),c("hashtagsManager",!1)}},"Insert")))}))))),customButtons:React.createElement(React.Fragment,null,v,!s&&React.createElement(x.M,{onClick:function(){c("hashtagsManager",!1)}},"Close")),customButtonsPosition:"left"})};function Jo(e){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(e)}function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){Zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Jo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Jo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||ta(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e,t){if(e){if("string"==typeof e)return na(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?na(e,t):void 0}}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ra.apply(null,arguments)}var oa=wp.element,aa=oa.useState,ia=oa.useEffect,ca=oa.useMemo;const la=function(e){var t=ra({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),n=ho(),r=n.selectedPostId,o=n.selectedPost,a=n.busy,i=n.isLockedSelectedPost,c=n.selectedPostIds,l=n.selectedPosts,u=n.hashtagsGroups,s=ho(),f=s.updatePostParam,p=s.updatePosts,h=s.toggleModal,m=ea(aa(!0),2),y=m[0],v=m[1],g=ea(aa(),2),b=g[0],w=g[1];ia((function(){l.length>0?w(l[0].post_content):w(null==o?void 0:o.post_content)}),[o,l]),ia((function(){var e=l.length>0?l[0].post_content:null==o?void 0:o.post_content;v(a||e===b)}),[o,b,a,l]);var E=G(null==o?void 0:o.service_type,null==o?void 0:o.account_id),_=ca((function(){return!l.some((function(e){return"publish"===e.post_status}))&&1===new Set((e=l.map((function(e){return e.post_content})),function(e){if(Array.isArray(e))return na(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ta(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).size;var e}),[l]),R=ca((function(){return 0===l.length?null==o?void 0:o.canModify:_&&l.every((function(e){return e.canModify}))}),[_,o,l]),k=function(e){if(l.length>0){var t=l.map((function(t){return Qo(Qo({},t),{},{post_content:e})}));p(t)}else f({post_content:e},r)},P=function(e){w(b+" "+e)};return c.length>0&&!_?null:0!==c.length||r&&o&&!o.isPublished?React.createElement("div",t,React.createElement(Do,null,React.createElement("div",{className:"header"},React.createElement(d.s,{h1:!0},"Text"),React.createElement(Co.l,{title:"#+",style:{background:"white",color:"black",display:"block",minWidth:"auto",height:"auto"},titleStyle:{fontWeight:"bold",fontSize:"14px"},hideChevron:!0},u.map((function(e){return React.createElement(Co.s,{onClick:function(){return P(e.hashtags)}},e.name)})),React.createElement(Co.s,{onClick:function(){return h("hashtagsManager",!0)},separator:!0},"Open Tags Manager"))),React.createElement("div",{className:"body"},React.createElement(Pe.m,{name:"sclegn-content",className:"content",textAreaStyle:{backgroundColor:er,border:"1px solid ".concat(tr)},value:b,onEnter:function(e,t){i||y||k(e)},avoidOnEnterWithShift:!0,onChange:function(e,t){w(e)},maxLength:E,countable:!0,disabled:i||!R})),React.createElement("div",{className:"footer"},React.createElement(x.M,{className:"button",color:"white",disabled:i||y,onClick:function(){return k(b)}},"Update Text"))),React.createElement($o,{onSelectClick:P})):null};var ua,sa=Y.Ay.div(ua||(ua=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    background-color: var(--neko-white);\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);\n    padding: 12px 15px;\n\n    h1 {\n        font-size: 14px;\n        font-weight: bold;\n        margin-bottom: 12px;\n    }\n\n    .button {\n        border: 1px solid black;\n        border-radius: 0;\n        color: black;\n        font-size: 12px;\n        font-weight: bold;\n        margin-top: 12px;\n        text-transform: uppercase;\n        width: 100%;\n\n        &:hover {\n            color: black;\n        }\n    }\n\n    .thumbnails {\n        display: flex;\n        flex-wrap: wrap;\n        flex-direction: column;\n        height: 185px;\n\n        &.grid {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            height: auto;\n\n            .thumbnail {\n                height: 100%;\n                width: 100%;\n            }\n        }\n\n        .thumbnail {\n            box-sizing: border-box;\n            height: 50%;\n            overflow: hidden;\n            position: relative;\n            width: 50%;\n\n            &.single {\n                height: 100%;\n                width: 100%;\n            }\n\n            &.full {\n                height: 100%;\n            }\n\n            &:hover {\n                .remove-button,\n                .zoom-button {\n                    display: block;\n                }\n            }\n        }\n\n        .thumbnail-part {\n            cursor: pointer;\n            box-sizing: border-box;\n            padding-bottom: 2px;\n            padding-right: 2px;\n\n            &.is-locked {\n                cursor: auto;\n            }\n        }\n\n        img {\n            object-fit: cover;\n            width: 100%;\n            height: 100%;\n            transition: all .1s;\n        }\n\n        .remove-button {\n            background-color: rgba(0, 0, 0, 0.4);\n            border-radius: 30px;\n            border: 0;\n            cursor: pointer;\n            display: none;\n            height: 30px;\n            position: absolute;\n            top: 2px;\n            right: 2px;\n            width: 30px;\n        }\n\n        .zoom-button {\n            background-color: rgba(0, 0, 0, 0.4);\n            border-radius: 30px;\n            border: 0;\n            cursor: pointer;\n            display: none;\n            height: 30px;\n            position: absolute;\n            top: 2px;\n            left: 2px;\n            width: 30px;\n        }\n    }\n\n    .uploader {\n        display: flex;\n        justify-content: center;\n        padding: 20px;\n    }\n"]))),fa=["setZoomPhoto"];function pa(e){return function(e){if(Array.isArray(e))return da(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ha(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){if(e){if("string"==typeof e)return da(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?da(e,t):void 0}}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ma=wp.element,ya=ma.useState,va=ma.useEffect,ga=ma.useMemo;const ba=function(e){var t=e.setZoomPhoto,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,fa),r=ho(),o=r.selectedPostId,a=r.selectedPost,i=r.busy,c=r.isLockedSelectedPost,l=ho(),u=l.updatePostParam,s=l.toggleModal,f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||ha(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ya(!1),2),p=f[0],h=f[1];va((function(){h(i||4===(null==a?void 0:a.thumbnail_ids.length))}),[i,null==a?void 0:a.thumbnail_ids]);var m=ga((function(){if(!a)return null;if(a.thumbnail_urls.length){var e=a.thumbnail_urls.length>4?"grid":"";return React.createElement("div",{className:"thumbnails ".concat(e)},a.thumbnails.map((function(e,n){var r=1===a.thumbnail_urls.length?"single":"",i=2===a.thumbnail_urls.length||3===a.thumbnail_urls.length&&0===n?"full":"";return React.createElement("div",{className:"thumbnail ".concat(r," ").concat(i)},React.createElement("img",{className:"thumbnail-part ".concat(c&&"is-locked"),src:e.medium_url,onClick:function(){c||s("selectPhoto",!0)}}),!c&&React.createElement("button",{className:"remove-button",onClick:function(t){return function(e,t,n){e.stopPropagation();var r=a.thumbnail_ids.filter((function(e){return e!=t})),i=a.thumbnail_urls.filter((function(e){return e!=n}));u({thumbnail_ids:r,thumbnail_urls:i},o)}(t,e.id,e.url)}},React.createElement(Nt.z,{icon:"close",color:"white"})),!c&&React.createElement("button",{className:"zoom-button",onClick:function(n){return function(e,n){e.stopPropagation(),t(n),s("zoomPhoto",!0)}(n,e)}},React.createElement(Nt.z,{icon:"zoom-in",color:"white"})))})))}var n=a.canModify;return React.createElement("div",{className:"uploader"},React.createElement(yo.T,{accept:"image/jpeg",onClick:function(){c?alert("This post is locked now."):n?s("selectPhoto",!0):alert("Only moderator of Social Engine can modify photos.")},onSuccess:function(e){return t=e.data.thumbnail_id,n=e.data.thumbnail_url,r=[].concat(pa(a.thumbnail_ids),[t]),i=[].concat(pa(a.thumbnail_urls),[n]),void u({thumbnail_ids:r,thumbnail_urls:i},o);var t,n,r,i},disabled:c||p||!n,style:{background:"transparent"},onFailure:function(e){alert(en(e))},apiUrl:"".concat(O,"/upload_image"),apiConfig:{nonce:T},iconSize:80,iconColor:"#3c434a"}))}),[null==a?void 0:a.thumbnail_urls,null==a?void 0:a.canModify,i,c]);return!o||null!=a&&a.isPublished?null:React.createElement(sa,n,React.createElement("div",{className:"header"},React.createElement(d.s,{h1:!0},"Photos")),React.createElement("div",{className:"body"},m))};var wa,Ea=Y.Ay.div(wa||(wa=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: var(--neko-white);\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);\n  padding: 12px 15px;\n\n  h1 {\n    font-size: 14px;\n    font-weight: bold;\n    margin-bottom: 12px;\n  }\n\n  .body {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(120px, auto));\n    column-gap: 2px;\n    row-gap: 2px;\n  }\n\n  .action-button {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n  }\n\n  .icon-button {\n    justify-content: center;\n  }\n"])));function xa(e){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(e)}function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(n),!0).forEach((function(t){ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ka(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=xa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pa=wp.element,Oa=Pa.useMemo,Sa=Pa.useCallback;function ja(e){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(e)}function La(){La=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ja(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ja(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ta(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){Na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Na(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ja(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ja(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(null,arguments)}var Da=wp.element.useMemo;const Ma=function(e){var t=Ca({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),n=ho(),r=n.selectedPost,o=n.busy,a=n.selectedPostId,i=n.selectedPostIds,c=n.defaults,l=n.filterBy,u=n.lockedDates,s=n.defaultService,f=n.isModerator,p=n.isLockedSelectedPost,h=n.draftEnabled,m=n.socialPosts,y=n.hasNoServices,v=ho(),g=v.toggleModal,b=v.addPost,w=v.selectPostAsDraft,E=v.updatePost,_=v.updatePosts,R=v.publishNow,k=null!=r?r:{},P=k.canDelete,O=void 0!==P&&P,S=k.isPublished,j=void 0!==S&&S,L=k.isDraft,T=void 0===L||L,A=(null==r?void 0:r.service_type)&&!N.some((function(e){return e.accountId===(null==r?void 0:r.account_id)})),I=function(e){var t=e.socialPosts,n=e.selectedPostIds,r=e.updatePosts,o=e.lockedDates,a=e.isModerator,i=Oa((function(){return t.map((function(e){return e.posts})).flat().filter((function(e){return!e.isEmpty}))}),[t]),c=Sa((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(n.length){var t=i.filter((function(e){return n.includes(e.id)})).map((function(t){return Ra(Ra({},t),{},{post_date:$t(t.post_date,e)})}));r(t)}}),[i,n,r]),l=Sa((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(n.length){var t=i.filter((function(e){return n.includes(e.id)})).map((function(t){return Ra(Ra({},t),{},{post_date:Jt(t.post_date,e)})}));r(t)}}),[i,n,r]),u=Oa((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return!n.length||i.filter((function(e){return n.includes(e.id)})).some((function(t){return o.some((function(e){return qt(e,t.post_date)}))||"draft"!==t.post_status&&Bt($t(t.post_date,e))}))}),[i,n,o]),s=Oa((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return!n.length||i.filter((function(e){return n.includes(e.id)})).some((function(t){return o.some((function(e){return qt(e,t.post_date)}))||"draft"!==t.post_status&&Bt(Jt(t.post_date,e))}))}),[i,n,o]);return{onMoveDownClick:c,onMoveUpClick:l,moveDownDisabled:u,moveUpDisabled:s,deleteAllDisabled:Oa((function(){return!n.length||i.filter((function(e){return n.includes(e.id)})).some((function(e){return o.some((function(t){return qt(t,e.post_date)}))}))}),[i,n,o]),multiSelectCannotModify:Oa((function(){if(!n.length)return!0;var e=i.filter((function(e){return n.includes(e.id)}));return!a||e.some((function(e){return Kt(e.post_date)||o.some((function(t){return qt(t,e.post_date)}))}))}),[i,n,a]),multiSelectPostsStatusPublished:Oa((function(){if(!n.length)return!1;var e=new Set(i.filter((function(e){return n.includes(e.id)})).map((function(e){return e.post_status})));return 1===e.size&&!e.has("draft")}),[i,n]),onMultiSelectStatusChange:Sa((function(e){if(n.length){var t=i.filter((function(e){return n.includes(e.id)})).map((function(t){return Ra(Ra({},t),{},{post_status:e})}));r(t)}}),[n,r,i])}}({socialPosts:m,selectedPostIds:i,updatePosts:_,lockedDates:u,isModerator:f}),C=I.onMoveDownClick,D=I.onMoveUpClick,M=I.moveDownDisabled,G=I.moveUpDisabled,z=I.deleteAllDisabled,B=I.multiSelectCannotModify,Y=I.multiSelectPostsStatusPublished,U=I.onMultiSelectStatusChange,V=function(){var e,t=(e=La().mark((function e(){return La().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(a);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ta(a,r,o,i,c,"next",e)}function c(e){Ta(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),q=Da((function(){var e=new Date;if(e.setHours(e.getHours()+12),u.some((function(t){return qt(t,e)})))for(;e.setDate(e.getDate()+1),u.some((function(t){return qt(t,e)})););return e}),[u]),H=Da((function(){return null==c?void 0:c.find((function(e){var t;return e.accountId===(null===(t=N[0])||void 0===t?void 0:t.accountId)}))}),[c]),W=Da((function(){var e=s?F(s):N[0];return{post_content:null==H?void 0:H.postContent,thumbnails:[],thumbnail_ids:[],thumbnail_urls:[],post_date:q,post_status:h?Tr[l]:Tr.future,service_type:null==e?void 0:e.type,service_id:null==e?void 0:e.serviceId,account_id:null==e?void 0:e.accountId,is_author:!0}}),[H,q,s]),K="publish"===(null==r?void 0:r.post_status);return React.createElement(Ea,t,React.createElement("div",{className:"header"},React.createElement(d.s,{h1:!0},"Actions",i.length>1&&React.createElement("small",null," (",i.length," selected)"))),React.createElement("div",{className:"body"},!a&&!i.length&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary action-button publish",disabled:o||y,onClick:function(){w(W),g("createPost",!0)}},"Create New Social Post")),a&&!K&&React.createElement(React.Fragment,null,h&&React.createElement(x.M,{className:"primary action-button publish",disabled:o||p||!f||A,onClick:function(){E(Ia(Ia({},r),{},{post_status:T?"future":"draft"}))}},T&&React.createElement("span",null,"Mark as Ready"),!T&&React.createElement("span",null,"Mark as Draft")),React.createElement(x.M,{className:"primary action-button duplicate ".concat(j&&"is-published"),disabled:p||o,onClick:function(){var e=j?Wt(new Date,new Date(r.post_date)):r.post_date;b(Ia(Ia({},r),{},{post_status:h?"draft":"future",post_date:e}))}},"Duplicate ",j&&"as Draft")),a&&!j&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"primary action-button publish",disabled:o||p||!f||A,onClick:V},"Publish Now")),a&&React.createElement(x.M,{className:"danger action-button icon-button delete",icon:"trash",disabled:o||p||!O,onClick:function(){g("deletePost",!0)}}),i.length>1&&React.createElement(React.Fragment,null,!K&&h&&React.createElement(x.M,{className:"primary action-button publish",disabled:B,onClick:function(){return U(Y?"draft":"future")}},!Y&&React.createElement("span",null,"Mark as Ready"),Y&&React.createElement("span",null,"Mark as Draft")),React.createElement(x.M,{className:"danger action-button icon-button",onClick:function(){return g("deletePosts",!0)},disabled:z,icon:"trash"}),!K&&React.createElement(React.Fragment,null,React.createElement(x.M,{className:"action-button icon-button",onClick:function(){return C()},disabled:M,icon:"arrow-down"}),React.createElement(x.M,{className:"action-button icon-button",onClick:function(){return D()},disabled:G,icon:"arrow-up"})))))};var Fa,Ga;function za(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ba=Y.Ay.div(Fa||(Fa=za(["\n    margin-bottom: 16px;\n    background-color: var(--neko-white);\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);\n    padding: 12px 15px;\n\n    .header {\n      display: flex;\n      justify-content: space-between;\n\n      h1 {\n        font-size: 14px;\n        font-weight: bold;\n        margin-bottom: 12px;\n      }\n\n      .nui-button {\n        font-size: 11px;\n        padding: 0px 20px;\n        min-height: 10px;\n        height: 25px;\n        margin: -5px;\n        border-radius: 10px;\n      }\n    }\n"]))),Ya=Y.Ay.div(Ga||(Ga=za(["\n    margin-bottom: 16px;\n    background-color: var(--neko-white);\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);\n    padding: 12px 15px;\n\n    .header {\n      display: flex;\n\n      h1 {\n        font-size: 14px;\n        font-weight: bold;\n        margin-bottom: 12px;\n      }\n    }\n\n    p {\n      margin: 8px 0;\n    }\n"])));function Ua(e){return Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(e)}function Va(){Va=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ua(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Ua(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(n),!0).forEach((function(t){Wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ua(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ua(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ua(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function $a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ja(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ja(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xa.apply(null,arguments)}var Qa=wp.element,Za=Qa.useState,ei=Qa.useEffect;const ti=function(e){var t,n,r=Xa({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),o=ho(),i=o.selectedPost,c=o.selectedPostId,l=$a(Za(!1),2),u=l[0],s=l[1],f=$a(Za({}),2),p=f[0],h=f[1],m=function(){var e,t=(e=Va().mark((function e(t){var n,r,o,i,c;return Va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,r=n.signal,o=(0,a.mR)("".concat(O,"/post_stats"),{postId:t}),s(!0),e.prev=4,e.next=7,(0,a.J4)(o,null,r,T);case 7:i=e.sent,console.log("Result for ID ".concat(t),i),c=i.success?Ha({},i.data):{error:i.message},h(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),alert(e.t0.message);case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ka(a,r,o,i,c,"next",e)}function c(e){Ka(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return ei((function(){i&&"publish"===i.post_status&&m(i.id)}),[i]),c&&"publish"===(null==i?void 0:i.post_status)?L?React.createElement(React.Fragment,null,React.createElement(Ba,r,React.createElement("div",{className:"header"},React.createElement(d.s,{h1:!0},"Statistics"),React.createElement(x.M,{isBusy:u,onClick:function(){return m(c)}},"Refresh")),React.createElement("div",null,"twitter"===i.service_type&&React.createElement(React.Fragment,null,React.createElement(d.s,{span:!0},"Likes: ",null!==(t=null==p?void 0:p.likes)&&void 0!==t?t:"-")),"facebook"===i.service_type&&React.createElement(React.Fragment,null,React.createElement(d.s,{span:!0},"Likes: ",null!==(n=null==p?void 0:p.likes)&&void 0!==n?n:"-")))),!!p.error&&React.createElement(Ya,null,React.createElement("div",{className:"header"},React.createElement(d.s,{h1:!0},"Error")),React.createElement("div",null,React.createElement(d.s,{p:!0},p.error)))):React.createElement(Ba,null,React.createElement("div",{className:"header"},React.createElement(d.s,{h1:!0},"Statistics")),React.createElement("div",null,React.createElement("i",null,"Pro Version only."))):null};var ni,ri=Y.Ay.div(ni||(ni=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: var(--neko-white);\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);\n  padding: 12px 15px;\n\n  h1 {\n    font-size: 14px;\n    font-weight: bold;\n    margin-bottom: 12px;\n  }\n\n  .body {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(120px, auto));\n    column-gap: 2px;\n    row-gap: 2px;\n  }\n\n  .action-button {\n    margin: 0;\n    font-size: 10px;\n    font-weight: bold;\n    padding: 0;\n    text-transform: uppercase;\n    width: 100%;\n  }\n"])));function oi(e){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(e)}function ai(){ai=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==oi(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(oi(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function li(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=oi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si.apply(null,arguments)}wp.element.useMemo;const fi=function(e){var t=si({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),n=ho(),r=n.displaySettings,o=n.filterBy,a=ho().updateDisplaySettings,i=function(){var e,t=(e=ai().mark((function e(t,n){return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ci(ci({},r),{},li({},n,t)));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ui(a,r,o,i,c,"next",e)}function c(e){ui(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return React.createElement(ri,t,React.createElement("div",{className:"header"},React.createElement(d.s,{h1:!0},"Display Settings")),React.createElement("div",{className:"body"},React.createElement(v.R,{name:"hidePastDays",label:"Hide Past Days",value:"1",disabled:"published"===o,checked:null==r?void 0:r.hidePastDays,onChange:i})))};var pi,hi=n(6306),di=(0,Y.Ay)(hi.K)(pi||(pi=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n"])));function mi(e){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mi(e)}function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=mi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(e){return function(e){if(Array.isArray(e))return ki(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ri(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(){wi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==mi(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(mi(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ei(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function xi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ei(a,r,o,i,c,"next",e)}function c(e){Ei(a,r,o,i,c,"throw",e)}i(void 0)}))}}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||Ri(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ri(e,t){if(e){if("string"==typeof e)return ki(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ki(e,t):void 0}}function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pi=wp.element,Oi=Pi.useState,Si=Pi.useEffect,ji=Pi.useMemo,Li=Pi.useCallback,Ti=function(e){var t,n=e.setZoomPhoto,r=ho(),o=r.selectedPostId,i=r.selectedPost,c=r.modals,l=ho(),u=l.updatePost,s=l.toggleModal,f=l.selectPostAsDraft,d=l.aiSuggestions,m=_i(Oi(""),2),y=m[0],v=m[1],g=_i(Oi(1),2),b=g[0],w=g[1],E=_i(Oi(24*(b-1)),2),x=E[0],_=E[1],R=_i(Oi({thumbnail_ids:[],thumbnail_urls:[],thumbnails:[]}),2),k=R[0],P=R[1],S=_i(Oi(0),2),j=S[0],L=S[1],A=_i(Oi(!1),2),I=A[0],N=A[1],C=ji((function(){return null!=i&&i.service_type?D[i.service_type].maxImagesPost:4}),[i]),M=ji((function(){return[(0,a.mR)("".concat(O,"/latest_photos"),{search:y,offset:x,unusedImages:j}),{headers:{"X-WP-Nonce":T}}]}),[y,x,j,O,T,a.mR]),F=function(){var e=xi(wi().mark((function e(t){var n,r,o,i,c;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryKey,r=_i(n,2),o=r[0],i=r[1],e.next=4,(0,a.m9)(o,i);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=(0,p.I)({queryKey:M,queryFn:F,config:{refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1,placeholderData:function(e){return e}}}),z=G.data,B=(G.error,G.isLoading),Y=(0,h.n)({mutationFn:(t=xi(wi().mark((function e(){return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({queryKey:M});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}),U=Y.mutate,V=ji((function(){return z?z.data:[]}),[z]),q=ji((function(){return z?z.total:0}),[z]);Si((function(){_(24*(b-1))}),[b]),Si((function(){w(1)}),[y,j]),Si((function(){i&&P({thumbnail_ids:bi(i.thumbnail_ids),thumbnail_urls:bi(i.thumbnail_urls),thumbnails:bi(i.thumbnails)})}),[i]);var H=ji((function(){if(i)return V.map((function(e){return{id:e.id,src:e.thumbnail_url,zoom_src:e.zoom_url,title:e.title,filename:e.filename,size:e.size,mime:e.mime}}))}),[V,i]),W=Li((function(e,t){P({thumbnail_ids:k.thumbnail_ids.filter((function(t){return t!=e})),thumbnail_urls:k.thumbnail_urls.filter((function(e){return e!=t})),thumbnails:k.thumbnails.filter((function(t){return t.id!=e}))})}),[k]),K=Li((function(e,t,n){P({thumbnail_ids:[].concat(bi(k.thumbnail_ids),bi(e)),thumbnail_urls:[].concat(bi(k.thumbnail_urls),bi(t)),thumbnails:[].concat(bi(k.thumbnails),bi(n))})}),[k]),$=Li((function(e){var t=e.id,n=e.src,r=e.zoom_src,o=e.needsMutate;i&&(o&&U(),k.thumbnail_ids.includes(t)?W(t,n):k.thumbnail_ids.length>=C?alert("The maximum number of the photo is up to ".concat(C,". Please delete some photos beforehand.")):K([t],[n],[{id:t,url:n,zoom_url:r}]))}),[i,k,W,K,C]),J=Li((function(e){n(e),s("zoomPhoto",!0)}),[n,s]),X=Li((function(){return v("")}),[]),Q=Li((function(e){U();var t=C-k.thumbnail_ids.length,n=e.slice(0,t);if(n.length){var r=n.map((function(e){return e.data.thumbnail_id})),o=n.map((function(e){return e.data.thumbnail_url})),a=n.map((function(e){return{id:e.data.thumbnail_id,url:e.data.thumbnail_url,zoom_url:e.data.zoom_url}}));K(r,o,a)}}),[U,K,k,C]),Z=ji((function(){return React.createElement(yo.T,{accept:"image/jpeg",width:"90px",height:"90px",apiUrl:"".concat(O,"/upload_image"),apiConfig:{nonce:T},iconSize:36,onSuccess:Q,onFailure:function(e){alert(en(e))},multiple:!0})}),[Q]),ee=Li((function(e){s("selectPhoto",!1),P(e||{thumbnail_ids:bi(i.thumbnail_ids),thumbnail_urls:bi(i.thumbnail_urls),thumbnails:bi(i.thumbnails)})}),[i,s]),te=Li(xi(wi().mark((function e(){var t,n;return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=2;break}return e.abrupt("return");case 2:if(t=vi(vi({},i),{},{thumbnail_ids:k.thumbnail_ids,thumbnail_urls:k.thumbnail_urls,thumbnails:k.thumbnails}),!d){e.next=16;break}return N(!0),e.prev=5,e.next=8,(0,a.IU)("".concat(O,"/ai_suggestions"),{method:"POST",nonce:T,json:{selectedPhotos:k.thumbnail_ids,socialPostType:i.service_type,postContent:i.post_content||""}});case 8:(n=e.sent).success?t=vi(vi({},t),{},{post_ai_suggestions:n.data}):alert(n.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),alert(e.t0);case 15:N(!1);case 16:o?u(t):f(t),ee(k);case 18:case"end":return e.stop()}}),e,null,[[5,12]])}))),[i,k,ee,u,f,I]),ne=Li((function(){s("selectPhoto",!1)}),[]);return i?React.createElement(di,{id:"neko-modal-select-photo",isOpen:c.selectPhoto,accept:"image/gif,image/jpeg,image/png",images:H,uploader:Z,showUploader:!0,onClick:$,onRemoveClick:$,onZoomClick:J,onRequestClose:ne,busy:B||I,searchValue:y,onSearch:v,onRefresh:X,total:q,currentPage:b,limit:24,onPageChange:w,multiSelect:!0,selected:k.thumbnails.map((function(e){return{id:e.id,src:e.url,zoom_src:e.zoom_url}})),uploadApiUrl:"".concat(O,"/upload_image"),uploadApiConfig:{nonce:T},onUploadSuccess:Q,onUploadFailure:function(){alert("Failed to upload some images.")},onSelectedOrderChanged:function(e){var t=e.currentIndex,n=e.afterIndex,r=k.thumbnails[t],o=k.thumbnails.filter((function(e,n){return n!==t}));o.splice(n,0,r),P({thumbnail_ids:o.map((function(e){return e.id})),thumbnail_urls:o.map((function(e){return e.src})),thumbnails:o})},uploadMultiple:!0,onCancel:ee,onSave:te,unusedImagesValue:j,onUnusedImagesChanged:function(e,t){return L(Number(e))}}):null};const Ai=function(){var e=ho(),t=e.modals,n=e.selectedPostId,r=ho(),o=r.toggleModal,a=r.deletePosts;return React.createElement(je.n,{isOpen:t.deletePost,onRequestClose:function(){return o("deletePost",!1)},id:"neko-modal-delete-post",title:"Delete the Social Post",content:"Are you sure to delete the social post?",customButtons:React.createElement(React.Fragment,null,React.createElement(x.M,{onClick:function(){o("deletePost",!1),a(n)},disabled:!1,style:{marginRight:"4px"},className:"danger"},"Delete"),React.createElement(x.M,{onClick:function(){o("deletePost",!1)},disabled:!1,style:{marginRight:"4px"}},"Cancel"))})},Ii=function(){var e=ho(),t=e.modals,n=e.selectedPostIds,r=ho(),o=r.toggleModal,a=r.deletePosts;return React.createElement(je.n,{isOpen:t.deletePosts,onRequestClose:function(){return o("deletePosts",!1)},id:"neko-modal-delete-posts",title:"Delete the selected Social Posts",content:"Are you sure to delete the selected social posts?",cancelButton:{label:"Delete",onClick:function(){o("deletePosts",!1),a(n)}},okButton:{label:"Cancel",onClick:function(){o("deletePosts",!1)}}})},Ni=function(e){var t,n,r,o=e.zoomPhoto,a=ho().modals,i=ho().toggleModal,c=null!==(t=null==o?void 0:o.zoom_src)&&void 0!==t?t:null==o?void 0:o.zoom_url,l=null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",u=null!==(r=null==o?void 0:o.title)&&void 0!==r?r:"";return React.createElement(je.n,{id:"neko-modal-zoom-photo",className:"zoom-photo-modal",isOpen:a.zoomPhoto,onRequestClose:function(){return i("zoomPhoto",!1)},content:o&&React.createElement("div",{style:{display:"flex",alignItems:"center",height:"100%"}},React.createElement("div",null,React.createElement("img",{src:c,style:{width:"100%",height:"100%",objectFit:"contain"}}),React.createElement(d.s,{p:!0},"ID:",l," / ",u)))})};function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ci(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ci(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ci(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var zi=wp.element,Bi=zi.useState,Yi=zi.useEffect,Ui=zi.useMemo;const Vi=function(){var e=ho(),t=e.modals,n=e.selectedPostId,r=e.selectedPost,o=e.lockedDates,a=ho(),i=a.toggleModal,c=a.updatePost,l=a.selectPostAsDraft,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Bi(null),2),s=u[0],f=u[1],p=Ui((function(){return o.map((function(e){return new Date(e)}))}),[o]);return Yi((function(){return f(r)}),[r]),s?React.createElement(je.n,{isOpen:t.editTime,onRequestClose:function(){return i("editTime",!1)},className:"neko-modal-edit-time",id:"neko-modal-edit-time",title:"Edit the Post Time",content:React.createElement(At(),{inline:!0,selected:new Date(s.post_date),onChange:function(e){return f(Mi(Mi({},s),{},{post_date:e}))},dateFormat:"yyyy/MM/dd HH:mm",minDate:new Date,excludeDates:p,showTimeInput:!0}),okButton:{label:"Save",onClick:function(){i("editTime",!1),n?c(s):l(s)}},cancelButton:{label:"Cancel",onClick:function(){i("editTime",!1)}}}):null};var qi,Hi,Wi=(0,Y.Ay)(je.n)(qi||(qi=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    border-radius: 10px;\n"]))),Ki=Y.Ay.div(Hi||(Hi=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n.ai-suggestion-viewer {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    border: 1px solid #e1e1e1;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n    border-radius: 8px;\n    padding: 15px;\n    margin-bottom: 15px; \n    transition: box-shadow 0.3s ease;\n}\n\n.ai-suggestion-viewer:hover {\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n}\n\n.ai-suggestion-viewer__thumbnail {\n    width: 60px; \n    height: 60px; \n    margin-right: 15px;\n    overflow: hidden;\n}\n\n.ai-suggestion-viewer__thumbnail img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: 4px;\n}\n\n.ai-suggestion-viewer__header p {\n    margin: 0;\n    color: #333;\n    font-weight: 500;\n}\n\n.ai-suggestion-body {\n    max-height: ",";\n    transition: max-height 0.5s ease;\n    overflow: hidden;\n    border: ",";\n    border-top: none;\n    border-radius: 0 0 8px 8px;\n    padding: ",";\n    background-color: #fafafa;\n}\n\n.ai-suggestion-body p {\n    margin-top: 0;\n    margin-bottom: 1em;\n}\n"])),(function(e){return e.isOpen?"1000px":"0"}),(function(e){return e.isOpen?"1px solid #e1e1e1":"none"}),(function(e){return e.isOpen?"15px":"0 15px"}));function $i(e){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$i(e)}function Ji(){Ji=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==$i(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError($i(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Xi(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ec=wp.element.useState,tc=function(e){var t=e.thumbnail,n=e.suggestion,r=e.btn_callback,o=Qi(ec(!1),2),a=o[0],i=o[1],c=Qi(ec(!1),2),l=c[0],u=c[1],s=function(){var e,t=(e=Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,r();case 3:u(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Xi(a,r,o,i,c,"next",e)}function c(e){Xi(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return React.createElement(Ki,{isOpen:a},React.createElement("div",{className:"ai-suggestion-viewer",onClick:function(){return i(!a)}},React.createElement("div",{className:"ai-suggestion-viewer__thumbnail"},React.createElement("img",{src:t,alt:"thumbnail"})),React.createElement("div",{className:"ai-suggestion-viewer__header"},React.createElement("p",null,"Click here to see the AI suggestions for this image ! 🤖")),React.createElement(x.M,{className:"ai-suggestion-viewer__btn",isBusy:l,style:{position:"absolute",right:"10px"},onClick:s},"Apply suggestions")),React.createElement("div",{className:"ai-suggestion-body"},React.createElement(d.s,{p:!0,dangerouslySetInnerHTML:{__html:n}})))};function nc(e){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(e)}function rc(){rc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==nc(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(nc(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function oc(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function ac(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){oc(a,r,o,i,c,"next",e)}function c(e){oc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(n),!0).forEach((function(t){lc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=nc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uc(e){return function(e){if(Array.isArray(e))return pc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||fc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){if(e){if("string"==typeof e)return pc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pc(e,t):void 0}}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var hc=wp.element,dc=hc.useState,mc=hc.useEffect,yc=hc.useCallback;const vc=function(){var e=ho(),t=e.modals,n=e.selectedPostId,r=e.selectedPost,o=e.defaults,i=e.draftEnabled,c=e.filterBy,l=ho(),u=l.toggleModal,s=l.addPost,f=l.selectPostAsDraft,p=l.publishNow,h=sc(dc(!1),2),m=h[0],y=(h[1],sc(dc([]),2)),v=y[0],g=y[1],b=sc(dc(null),2),w=b[0],E=b[1],_=sc(dc(r),2),R=_[0],k=_[1],P=i?Tr[c]:Tr.future,S=yc((function(e){return N.some((function(t){return e===t.accountId}))}),[v]);mc((function(){!n&&r?v.length||(k(r),g([r])):g([])}),[n,r]),mc((function(){var e,t;if(r&&null!=w){var n=(null==r?void 0:r.post_date)!==(null===(e=v[w])||void 0===e?void 0:e.post_date),o=null==r?void 0:r.thumbnail_ids,a=null===(t=v[w])||void 0===t?void 0:t.thumbnail_ids,i=(null==o?void 0:o.length)!==(null==a?void 0:a.length)||o.some((function(e){return!a.includes(e)}));if(n||i){var c=r,l=uc(v);l[w]=c,g(l),E(null)}}}),[null==r?void 0:r.post_date,null==r?void 0:r.thumbnail_ids,w,v]);var j=yc((function(e){if(v.some((function(t){return t.account_id===e.accountId}))){var t=v.filter((function(t){return t.account_id!==e.accountId}));return t.length||t.push(R),void g(t)}var n=cc(cc({},v[0]),{},{service_type:e.type,service_id:e.serviceId,account_id:e.accountId});if(1===v.length&&!S(v[0].account_id)){var r=uc(v);return r[0]=n,void g(r)}var o=[].concat(uc(v),[n]);g(o)}),[v]),L=yc((function(e,t){var n=v[t];if(n){var r=uc(v);r[t]=cc(cc({},n),e),g(r)}}),[v]),A=yc((function(e,t){var n,r,a=v[t],i=N.find((function(t){return t.accountId===e})),c=null==o||null===(n=o.find((function(e){return e.accountId===a.account_id})))||void 0===n?void 0:n.postContent,l=a.post_content===c?null==o||null===(r=o.find((function(t){return t.accountId===e})))||void 0===r?void 0:r.postContent:a.post_content;L({post_content:l,service_type:i.type,service_id:i.serviceId,account_id:e},t)}),[o,v,L]),I=yc((function(e,t){var n=P;e===C.ready?n="future":e===C.draft&&(n="draft"),L({post_status:n},t)}),[L]),D=yc((function(e){E(e),f(v[e]),u("editTime",!0)}),[v]),M=yc((function(e){E(e),f(v[e]),u("selectPhoto",!0)}),[v]),F=yc((function(e,t){L({post_content:e},t)}),[L]),z=yc((function(e,t){var n;return e?e.post_link&&"facebook"===e.service_type?React.createElement("div",{className:"thumbnail",onClick:function(){return alert("You cannot upload a thumbnail when you have an embedded link.")},style:{marginRight:0}},React.createElement("div",{className:"thumbnail-content disabled"},e.thumbnail_urls[0]&&React.createElement("img",{src:e.thumbnail_urls[0]}),!e.thumbnail_urls[0]&&React.createElement("div",{className:"thumbnail-content-placeholder"},React.createElement(Nt.z,{icon:"image-off-outline",width:"20",height:"20"})),e.thumbnail_urls.length>1&&React.createElement("p",{className:"thumbnail-content-counter"},e.thumbnail_urls.length))):null!==(n=e.thumbnail_urls)&&void 0!==n&&n.length?React.createElement("div",{className:"thumbnail",onClick:function(){return M(t)},style:{marginRight:0}},React.createElement("div",{className:"thumbnail-content"},React.createElement("img",{src:e.thumbnail_urls[0]}),e.thumbnail_urls.length>1&&React.createElement("p",{className:"thumbnail-content-counter"},e.thumbnail_urls.length))):React.createElement("div",{className:"uploader"},React.createElement(yo.T,{accept:"image/jpeg",onClick:function(){return M(t)},onSuccess:function(e){return function(e,t){L({thumbnail_ids:[e.data.thumbnail_id],thumbnail_urls:[e.data.thumbnail_url]},t)}(e,t)},onFailure:function(e){alert(en(e))},apiUrl:"".concat(O,"/upload_image"),apiConfig:{nonce:T},iconSize:56})):null}),[M,L]),B=yc(function(){var e=ac(rc().mark((function e(t,n){var r,o,i;return rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v[n].post_content,e.next=3,(0,a.IU)("".concat(O,"/ai_format_suggestion"),{method:"POST",nonce:T,json:{suggestion:t,currentCaption:r||""}});case 3:(o=e.sent).success?(i=r?"".concat(v[n].post_content," [🤖 AI Engine]: ").concat(o.data):o.data,L({post_content:i},n)):alert(o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[v]),Y=yc((function(e){return e.post_ai_suggestions?e.post_ai_suggestions.map((function(t,n){return React.createElement(tc,{thumbnail:e.thumbnail_urls[n],suggestion:t,btn_callback:function(){return B(t,n)}})})):null})),U=yc((function(){u("createPost",!1),setTimeout((function(){g([]),E(null),k(null)}),500)}),[]),V=yc(ac(rc().mark((function e(){return rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(),setTimeout(ac(rc().mark((function e(){var t;return rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.map(function(){var e=ac(rc().mark((function e(t){return rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:case"end":return e.stop()}}),e)}))),100);case 2:case"end":return e.stop()}}),e)}))),[v,U]),q=yc(ac(rc().mark((function e(){return rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(),setTimeout(ac(rc().mark((function e(){var t;return rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.map(function(){var e=ac(rc().mark((function e(t){var n;return rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:if(n=e.sent,!i&&"draft"!==t.post_status){e.next=5;break}return e.abrupt("return",n);case 5:if(!n){e.next=8;break}return e.next=8,p(n);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:case"end":return e.stop()}}),e)}))),100);case 2:case"end":return e.stop()}}),e)}))),[v,U]);return v.length?React.createElement(Wi,{isOpen:t.createPost,onRequestClose:U,id:"neko-modal-create-post",contentWidth:"750px",content:React.createElement("div",{style:{maxHeight:"calc(90vh - 200px)",overflowY:"auto"}},React.createElement("div",{style:{marginBottom:"8px"}},N.map((function(e){return React.createElement(x.M,{icon:e.type,onClick:function(){return j(e)},color:v.some((function(t){return t.account_id===e.accountId}))?Zn[e.type]:"gray",rounded:!0})}))),v.map((function(e,t){var n,r=null!==(n=null==e?void 0:e.service_type)&&void 0!==n?n:"none",o=G(null==e?void 0:e.service_type,null==e?void 0:e.account_id);return e.post_content&&e.post_content.length>o&&(e.post_content=e.post_content.substring(0,o-3),e.post_content+="..."),React.createElement(React.Fragment,null,React.createElement(go,{className:"schedule-post create-post-modal ".concat(r)},React.createElement(It.A,{busy:m},React.createElement("div",{className:"header ".concat(r)},React.createElement(ke.u,{name:"sclegn-service",className:"service ".concat(r),scrolldown:!0,onChange:function(e){return A(e,t)},value:e.account_id,disabled:S(e.account_id)},N.map((function(e){return React.createElement(ke.j,{id:e.accountId,icon:e.type,value:e.accountId,label:e.name})}))),React.createElement("div",{className:"group"},React.createElement(vo.S,{width:"62px",height:"21px",fontSize:"9px",onLabel:C.ready.toUpperCase(),onValue:C.ready,offValue:C.draft,offLabel:C.draft.toUpperCase(),onBackgroundColor:"rgba(0, 0, 0, 0.35)",offBackgroundColor:"rgba(255, 255, 255, 0.35)",onChange:function(e){return I(e,t)},checked:"draft"!==e.post_status}),React.createElement("div",{onClick:function(){return D(t)}},React.createElement(Nt.z,{icon:"timer-outline",width:"20",height:"20",style:{marginLeft:"15px"}}),React.createElement(d.s,{p:!0,style:{marginLeft:"9px",marginRight:"10px"}},Vt(e.post_date))))),React.createElement("div",{className:"body ".concat(r)},z(e,t),React.createElement("div",{style:{width:"100%",marginRight:"151px"}},React.createElement(Pe.m,{name:"sclegn-post-content",rows:5,style:{width:"100%"},value:e.post_content,textAreaStyle:{backgroundColor:er,border:"1px solid ".concat(tr),height:"facebook"==r?67:103},onChange:function(e){return F(e,t)},maxLength:o,avoidOnEnterWithShift:!0,countable:!0}),"facebook"===r&&React.createElement(Se.A,{name:"sclegn-post-link",placeholder:"(Optional) Insert a link to be embedded.",style:{width:"100%"},value:e.post_link,onChange:function(e){return L({post_link:e},t)}}))),React.createElement("div",{style:{height:"24px",display:"flex",flexDirection:"row",marginTop:3}},React.createElement(d.s,{style:{marginLeft:"10px",color:"rgba(255, 255, 255, 0.6)"}},"Will be published on "),React.createElement(d.s,{style:{marginLeft:"10px",textTransform:"capitalize",color:"white"}},Ut(e.post_date)," ",Vt(e.post_date)," ",Yt(e.post_date)),React.createElement(d.s,{style:{marginLeft:"10px",color:"rgba(255, 255, 255, 0.6)"}}," if scheduled. ")))),Y(e))}))),customButtons:React.createElement(React.Fragment,null,React.createElement(x.M,{onClick:V,disabled:m,style:{marginRight:"4px"}},"Schedule Post"),React.createElement(x.M,{onClick:q,disabled:m,style:{marginRight:"4px"}},i?"Save Draft":"Publish Now"),React.createElement(x.M,{onClick:U,disabled:m},"Cancel")),customButtonsPosition:"left"}):null};var gc=n(851);function bc(e){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(e)}function wc(){wc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==bc(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(bc(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ec(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function xc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ec(a,r,o,i,c,"next",e)}function c(e){Ec(a,r,o,i,c,"throw",e)}i(void 0)}))}}function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(n),!0).forEach((function(t){kc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=bc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=bc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Sc=wp.element,jc=Sc.useState,Lc=Sc.useCallback,Tc=Sc.useMemo;const Ac=function(){var e,t=ho(),n=t.modals,r=t.defaults,o=ho(),i=o.toggleModal,c=o.mutatePosts,l=Tc((function(){return N.filter((function(e){return r.some((function(t){return t.accountId===e.accountId&&Object.keys(null==t?void 0:t.postTime).some((function(e){var n;return!(null===(n=t.postTime[e])||void 0===n||null===(n=n.times)||void 0===n||!n.length)}))}))}))}),[r]),u=0===l.length,s=(0,Hn.XS)(),f=Pc(jc(!1),2),p=f[0],h=f[1],m=Pc(jc(),2),y=m[0],v=m[1],g=Pc(jc(0),2),b=g[0],w=g[1],E=Pc(jc(0),2),x=E[0],_=E[1],R=Pc(jc(""),2),k=R[0],P=R[1],S=Pc(jc("post"),2),j=S[0],L=S[1],I=Pc(jc(Rc({},l[0])),2),C=I[0],D=I[1],M=Pc(jc("Read the full story at {URL}."),2),F=M[0],G=M[1],z=C.type,B=Lc((function(e){var t=l.find((function(t){return t.accountId===e}));D(Rc({},t))}),[]),Y=Lc((function(e){L(e)}),[]),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(e=null!==e?e:s.getErrorCount())>0&&P("The process has finished, but ".concat(e," error(s) occurred.")),s.reset(),v(),w(0),_(0),c()},V=Lc(function(){var e=xc(wc().mark((function e(t){var n,r,o,i;return wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,r=n.signal,o=(0,a.mR)("".concat(O,"/published_post_ids"),{postType:t}),e.prev=3,e.next=6,(0,a.J4)(o,null,r,T);case 6:if((i=e.sent).success){e.next=10;break}return i.message&&alert(i.message),e.abrupt("return",{result:!1,data:null});case 10:return e.abrupt("return",{result:!0,data:i.data});case 13:return e.prev=13,e.t0=e.catch(3),alert(e.t0.message),e.abrupt("return",{result:!1,data:null});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),[]),q=Lc(function(){var e=xc(wc().mark((function e(t){var n,r,o,i,c;return wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,r=t.postId,o=t.accountId,i=t.textLink,e.prev=1,e.next=4,(0,a.Tb)("".concat(O,"/revive_post"),{json:{post_id:r,account_id:o,text_link:i},signal:n,nonce:T});case 4:return c=e.sent,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(1),e.t0.message&&alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[]),H=function(){var e=xc(wc().mark((function e(){var t,n,r,o,a;return wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,h(!0),P(""),v("Getting IDs..."),e.next=6,V(j);case 6:if(n=e.sent,r=n.result,o=n.data,r){e.next=13;break}return U(),h(!1),e.abrupt("return");case 13:return a=[],e.next=16,Qt(200,xc(wc().mark((function e(){var t,n;return wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=wc().mark((function e(){var t,r;return wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o[n],r=function(){var e=xc(wc().mark((function e(n){return wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("Creating a post of post id: ".concat(t)),w((function(e){return e+1})),e.next=4,Zt(100);case 4:return e.next=6,q({signal:n,postId:t,accountId:C.accountId,textLink:F});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.push(r);case 3:case"end":return e.stop()}}),e)})),n=0;case 2:if(!(n<o.length)){e.next=7;break}return e.delegateYield(t(),"t0",4);case 4:n+=1,e.next=2;break;case 7:_(a.length);case 8:case"end":return e.stop()}}),e)}))));case 16:return v("Adding entry..."),e.next=19,s.start(a);case 19:s.reset(),t+=s.getErrorCount(),U(t),h(!1);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(je.n,{isOpen:n.revive,onRequestClose:function(){return i("revive",!1)},id:"neko-modal-revive",title:"Revive",contentWidth:"500px",content:React.createElement(go,{className:"schedule-post revive-modal"},React.createElement("p",null,"It will create a Social Post for every Post that has been published (for this Post Type). If a Social Post already exists, it will be skipped."),u&&React.createElement(React.Fragment,null,React.createElement(d.s,{p:!0,style:{marginTop:15,marginBottom:5}},React.createElement("b",null,"You currenly have either no services set, or there are no services with Default Posting Times. They need to be set so that the Revive function can properly pick logical posting times."))),!u&&React.createElement(React.Fragment,null,React.createElement("div",{style:{marginTop:15}},React.createElement(d.s,{p:!0,style:{marginBottom:5}},"Post Type"),React.createElement(ke.u,{name:"sclegn-post-type",scrolldown:!0,onChange:Y,value:j,disabled:p},Object.keys(A).map((function(e){return React.createElement(ke.j,{id:e,value:e,label:A[e]})})))),React.createElement("div",{style:{marginTop:15}},React.createElement(d.s,{p:!0,style:{marginBottom:5}},"SNS"),React.createElement(ke.u,{name:"sclegn-service",scrolldown:!0,className:"service ".concat(z),disabled:p,onChange:B,value:C.accountId},l.map((function(e){return React.createElement(ke.j,{id:e.accountId,icon:e.type,value:e.accountId,label:e.name})})))),React.createElement("div",{style:{marginTop:15}},React.createElement(d.s,{p:!0,style:{marginBottom:5}},"Add a text link"),React.createElement(Se.A,{name:"sclegn-add-text-link",value:F,onChange:function(e){return G(e)},onReset:function(){return G("")}}))),y&&React.createElement("div",{style:{marginTop:"16px"}},React.createElement("div",{style:kc(kc(kc(kc(kc({display:"flex",fontFamily:"Lato",marginBottom:"4px",flexDirection:"column",fontWeight:600},"flexDirection","column"),"height",30),"lineHeight","16px"),"justifyContent","center"),"textTransform","uppercase")},x>0&&React.createElement("div",{style:{color:"#144675",fontSize:17}},"STEP ".concat(b,"/").concat(x)),React.createElement("div",{style:{color:"#007bba"}},y)),React.createElement(gc.j,{status:function(e){return s.max?"".concat(e,"%"):React.createElement(Nt.z,{icon:"replay",height:16,spinning:!0})},busy:s.busy,value:s.value,max:s.max,onStopClick:s.stop})),k&&React.createElement(d.s,{p:!0,style:{marginTop:"8px"}},k)),okButton:{okLabel:"Revive",disabled:p||u,onClick:(e=xc(wc().mark((function e(){return wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:i("revive",!1);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})},cancelButton:{cancelLabel:"Cancel",disabled:p,onClick:function(){i("revive",!1)}}})};function Ic(e){return Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(e)}function Nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(n),!0).forEach((function(t){Dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ic(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ic(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ic(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(){Mc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:P(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(T([])));x&&x!==n&&r.call(x,i)&&(w=x);var _=b.prototype=v.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ic(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?m:h,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Ic(t)+" is not iterable")}return g.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},R(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},R(_),u(_,l,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Fc(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Gc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Fc(a,r,o,i,c,"next",e)}function c(e){Fc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function zc(e){return function(e){if(Array.isArray(e))return Yc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bc(e,t){if(e){if("string"==typeof e)return Yc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yc(e,t):void 0}}function Yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Uc=wp.element,Vc=Uc.useState,qc=Uc.useEffect,Hc=Uc.useMemo,Wc=Uc.useCallback,Kc="drag-over",$c=function(e){Array.prototype.forEach.call(document.getElementsByClassName(e),(function(t){t.classList.remove(e)}))};const Jc=function(){var e=ho(),t=e.filterBy,n=e.serviceFilterBy,r=e.busy,o=(e.busyPublishedPosts,e.stats),a=e.days,i=e.selectedPostId,c=e.selectedPostIds,l=e.daysPerPage,u=e.page,s=e.displaySettings,f=e.hasNoServices,p=e.apiErrors,h=e.dragPost,m=e.isModerator,y=e.lockedDates,v=e.draftEnabled,g=e.shouldFetchPublishedPosts,E=e.socialPosts,_=e.updatePost,R=ho(),k=R.setPage,P=R.setFilter,O=R.selectPost,S=R.selectPosts,j=R.dragPostStart,T=R.dragPostEnd,A=R.setShouldFetchPublishedPosts,I=R.dropPost,C=R.updateOption,D=R.updateDisplaySettings,M=R.toggleModal,F=ho().modals,G=s.mode,z=s.order,B=s.hidePastDays,Y=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||Bc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Vc(null),2),U=Y[0],V=Y[1],q=Hc((function(){return v?kr:kr.filter((function(e){return"draft"!==e.value}))}),[v,kr]),H=v?Tr[t]:Tr.future,W=Hc((function(){return E.map((function(e){return e.posts})).flat().filter((function(e){return!e.isEmpty}))}),[E]),K=(0,Hn.v_)(),$=K.pressShift,J=K.pressControl,X=Hc((function(){var e=new Date;return new Date(e.setMonth(e.getMonth()+(u-1)))}),[u]);qc((function(){G===Lr&&(l!==Er.month&&C("days_per_page",Er.month),k(1))}),[G,l]),qc((function(){k(1),O(null),S([])}),[t,n]);var Q=Wc((function(e,t,n){h&&(e.preventDefault(),$c(Kc),qt(n,h.post_date)||document.getElementById(t).classList.add(Kc))}),[h]),Z=Wc((function(e){if(J){var t=i?Array.from(new Set([].concat(zc(c),[i]))):zc(c),n=t.includes(e)?t.filter((function(t){return t!==e})):[].concat(zc(t),[e]);return O(n.length>1?null:n[0]),void S(n)}if($&&(i||c.length)){for(var r=W.filter((function(e){return c.includes(e.id)})),o=c.length?r.sort((function(e,t){return new Date(e.post_date)-new Date(t.post_date)}))[0]:W.find((function(e){return e.id===i})),l=W.find((function(t){return t.id===e})),u=new Date(o.post_date)>new Date(l.post_date),s=u?l:o,f=u?o:l,p=a.findIndex((function(e){return qt(s.post_date,e)})),h=a.findIndex((function(e){return qt(f.post_date,e)})),d=!1,m=[],y=function(e){var t=W.filter((function(t){return qt(t.post_date,a[e])}));if(e>p&&e<h)return m=[].concat(zc(m),zc(t.map((function(e){return e.id})))),1;for(var n=0;n<t.length;n++){var r=t[n];if(d){if(r.id===f.id)break;m.push(r.id)}else d=r.id===s.id}},v=p;v<=h;v++)y(v);return O(null),void S([s.id].concat(zc(m),[f.id]))}O(e),S([])}),[$,J,i,c,O,S,W,a]),ee=function(e){Array.from(e.target.classList).filter((function(e){return["schedule-posts","schedule-posts-header-content","schedule-post-list-container","header-social-engine"].includes(e)})).length>0&&(O(null),S([]))},te=function(){var e=Gc(Mc().mark((function e(t){return Mc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("locked_dates",[].concat(zc(y),[t]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Gc(Mc().mark((function e(t){return Mc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("locked_dates",y.filter((function(e){return!qt(e,t)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=Wc((function(e){e.target.classList.contains("sidebar")&&(O(null),S([]))}),[c]),oe=Wc((function(e){g||"published"!==e||A(),P(e,n)}),[n,A,g]),ae=Hc((function(){return l===Er.month?(c=a[0],s=(u=new Date(c)).getFullYear(),f=u.toLocaleString("en-US",{month:"long"}),"".concat(f," ").concat(s)):l===Er.year?function(e){var t=new Date(e).getFullYear();return"".concat(t)}(a[0]):(e=a[0],r=(n=new Date(e)).getFullYear(),o=n.toLocaleString("en-US",{month:"long"}),i=((t=n.getDate())<10?"0":"")+t,"".concat(o," ").concat(i," (").concat(r,")"));var e,t,n,r,o,i,c,u,s,f}),[a,l]),ie=Hc((function(){return E.map((function(e){return e.posts})).flat().map((function(e){var t=e.post_date.getFullYear()+"-"+(e.post_date.getMonth()+1)+"-"+e.post_date.getDate(),n=y.some((function(e){return qt(e,t)}));return{date:e.post_date,isLocked:n,post:e,draggable:!0}}))}),[E]);return React.createElement(nr,{nekoErrors:[p],style:{paddingBottom:0},className:G},React.createElement(b.n,{title:"Social Engine | Dashboard",subtitle:"By Jordy Meow"},React.createElement("div",{className:"header-social-engine",style:{display:"flex",justifyContent:"flex-end"},onClick:ee},React.createElement(x.M,{icon:"cog",className:"header",onClick:function(){return location.href="admin.php?page=sclegn_settings"}},"Settings"),React.createElement(x.M,{className:"header",color:"var(--neko-green)",disabledColor:"#54b39cd6",requirePro:!L,isPro:L,disabled:f,onClick:function(){return M("revive",!0)}},"Revive"))),React.createElement(w.N,null,React.createElement("div",{style:{display:"flex",overflow:"hidden",width:"100%"},onClick:ee},React.createElement(w.Y,{className:"schedule-posts"},React.createElement("div",{className:"schedule-posts-header"},React.createElement("div",{className:"schedule-posts-header-content"},React.createElement("div",{style:{display:"flex"}},React.createElement(Un.o,{className:"schedule-post-filters",name:"sclegn-schedule-post-filters",value:t,busy:!1,onChange:oe},q.map((function(e){return React.createElement(Un.K,{className:"schedule-post-filter",title:e.title,value:e.value,count:o[e.countKey]})}))),React.createElement(ke.u,{name:"sclegn-filter-service",className:"schedule-post-filter-service",scrolldown:!0,onChange:function(e){return P(t,e)},value:n},React.createElement(ke.j,{id:"all",value:"all",label:"all"}),N.map((function(e){return React.createElement(ke.j,{id:e.accountId,icon:e.type,value:e.accountId,label:e.name})})),React.createElement(ke.j,{id:"orphan",value:"orphan",label:"Orphan Posts"}))),React.createElement("div",{style:{display:"flex"}},React.createElement(Nt.z,{color:G===Sr?"var(--neko-main-color)":null,icon:"view-grid",onClick:function(){return D(Cc(Cc({},s),{},{mode:Sr}))},width:"20",height:"20"}),React.createElement(Nt.z,{color:G===jr?"var(--neko-main-color)":null,icon:"format-list-bulleted",onClick:function(){return D(Cc(Cc({},s),{},{mode:jr}))},width:"20",height:"20",style:{marginRight:10}}),React.createElement(Nt.z,{color:G===Lr?"var(--neko-main-color)":null,icon:"calendar-month",onClick:function(){return D(Cc(Cc({},s),{},{mode:Lr}))},width:"20",height:"20"}),React.createElement(Nt.z,{color:z!==Or?"var(--neko-main-color)":null,icon:"sort",onClick:function(){return D(Cc(Cc({},s),{},{order:z===Or?"asc":Or}))},width:"20",height:"20",style:{marginLeft:10}}))),React.createElement("div",{className:"schedule-posts-header-content",style:{marginTop:5}},React.createElement("div",{style:{display:"flex"}},React.createElement(Vn.Q,{currentPage:u,onClick:function(e){return k(e)},controllerText:React.createElement(d.s,{p:!0,style:{margin:0,width:"150px",textAlign:"center"}},ae),infinite:!B,maxInfinite:B}),React.createElement(x.M,{disabled:1===u,style:{marginLeft:"4px"},onClick:function(){return k(1)}},"Today")),G!==Lr&&React.createElement(ke.u,{name:"days_per_page",scrolldown:!0,value:l,onChange:function(){var e=Gc(Mc().mark((function e(t,n){return Mc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(1),e.next=3,C(n,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Pr.map((function(e){return React.createElement(ke.j,{value:e.value,label:e.label})}))))),f&&React.createElement(d.s,{p:!0},"There are no services set up yet. Please visit the settings and add services before using this dashboard."),React.createElement("div",{className:"schedule-post-lists"},React.createElement(It.A,{busy:r},G===Lr?React.createElement(qn.a,{year:X.getFullYear(),month:X.getMonth(),events:ie,eventBuilder:function(e){var o,a,c=new Date;if(c.setMinutes(c.getMinutes()-10),B&&"published"!=t&&e.date<c)return null;var l=(null!==(o=null===(a=E.find((function(t){return qt(t.date,e.date)})))||void 0===a?void 0:a.posts)&&void 0!==o?o:[]).find((function(e){return!e.isEmpty})),u=e.post;return u.isEmpty?e.isLocked||f||"draft"===t||!["all","orphen"].includes(n)&&n!==u.account_id?null:React.createElement(No,{accountId:u.account_id,basePost:l,displayMode:G,postDate:e.date,postStatus:H}):React.createElement(It.A,{busy:r&&u.id===i},React.createElement(_o,{post:u,onClick:function(){return Z(u.id)},isLocked:e.isLocked}))},onEventMoved:function(e,t){var n=t.post,r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=Cc(Cc({},n),{},{post_date:r});_(o)}}):a.map((function(e){var o,a,c=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),l=y.some((function(e){return qt(e,c)})),u=c+"-list",s=null!==(o=null===(a=E.find((function(t){return qt(t.date,e)})))||void 0===a?void 0:a.posts)&&void 0!==o?o:[],p=new Date;if(p.setMinutes(p.getMinutes()-10),B&&"published"!=t&&e<p)return null;if(["draft","future","published"].includes(t)&&!s.filter((function(e){return!e.isEmpty})).length)return null;var h,v,g,b,w=s.find((function(e){return!e.isEmpty})),x=s.map((function(e){if(e.isEmpty)return l||f||["draft","future","published"].includes(t)||!["all","orphen"].includes(n)&&n!==e.account_id?null:React.createElement("li",{key:"".concat(e.account_id).concat(e.post_date)},React.createElement(No,{accountId:e.account_id,postDate:e.post_date,postStatus:H,basePost:w}));var o="published"!=t&&!l&&("draft"===e.post_status&&e.is_author||m);return React.createElement("li",{key:e.id,className:"schedule-post-list-item"},React.createElement(It.A,{busy:r&&e.id===i},React.createElement(_o,{post:e,onClick:function(){return Z(e.id)},displayMode:G,draggable:o,onDragStart:function(){return j(e)},onDragEnd:T,isLocked:l})))}));return React.createElement("div",{key:u,className:"schedule-post-list-container",draggable:m&&!l,onDrop:function(){return function(e){$c(Kc),I(e)}(e)},onDragOver:function(t){return Q(t,u,e)}},React.createElement("div",{className:"schedule-post-list-header"},React.createElement("span",null,(g=new Date(e),b={0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"}[g.getDay()],Bt(g)?"Today":(h=g,(v=new Date).setDate(v.getDate()+1),v.getFullYear()===h.getFullYear()&&v.getMonth()===h.getMonth()&&v.getDate()===h.getDate()?"Tomorrow":b))),React.createElement("div",{className:"schedule-post-list-header-date"},React.createElement(d.s,{h2:!0},Ut(e)),React.createElement(Nt.z,{icon:"".concat(l?"lock":"lock-open"),width:"16",height:"16",onClick:function(){return l?ne(c):te(c)}}))),React.createElement("ul",{id:u,className:"schedule-post-list"},x))}))))),React.createElement(w.Y,{className:"sidebar full",onClick:re},React.createElement(Ma,{style:{marginBottom:"16px"}}),React.createElement(ti,null),React.createElement(la,{style:{marginBottom:"16px"}}),React.createElement(ba,{style:{marginBottom:"16px"},setZoomPhoto:V}),React.createElement(fi,null)),!F.selectPhoto&&React.createElement(vc,null),!F.zoomPhoto&&React.createElement(Ti,{setZoomPhoto:V}),React.createElement(Ai,null),React.createElement(Ii,null),React.createElement(Ni,{zoomPhoto:U}),React.createElement(Vi,null),React.createElement(Ac,null))))},Xc=function(){var e=ho(),t=e.lockedDates,n=e.defaultService,r=e.modals,o=ho(),a=o.toggleModal,i=o.selectPostAsDraft;(0,Ye.useEffect)((function(){var e=function(e){var t=e.detail,r=n?F(n):N[0],o={post_content:t.postContent,thumbnails:JSON.parse(t.postThumbnails),thumbnail_ids:JSON.parse(t.postThumbnailIds),thumbnail_urls:JSON.parse(t.postThumbnailUrls),post_date:c,post_status:Tr.future,service_type:null==r?void 0:r.type,service_id:null==r?void 0:r.serviceId,account_id:null==r?void 0:r.accountId,is_author:!0};i(o),a("createPost",!0)};return window.addEventListener("sclegnPropsChange",e),function(){window.removeEventListener("sclegnPropsChange",e)}}),[]);var c=(0,Ye.useMemo)((function(){var e=new Date;if(e.setHours(e.getHours()+12),t.some((function(t){return qt(t,e)})))for(;e.setDate(e.getDate()+1),t.some((function(t){return qt(t,e)})););return e}),[t]);return React.createElement(React.Fragment,null,React.createElement(Ti,null),!r.selectPhoto&&React.createElement(vc,null),React.createElement(Vi,null))};var Qc=wp.element.render,Zc=new r.E({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1,placeholderData:function(e){return e}}}});a.m9,document.addEventListener("DOMContentLoaded",(function(e){var t=document.getElementById("sclegn-admin-settings");t&&Qc(React.createElement(o.Ht,{client:Zc},React.createElement(i,null,React.createElement(Bn,null))),t);var n=document.getElementById("sclegn-dashboard");n&&setTimeout((function(){console.log("🟢 Ready to create social post"),Qc(React.createElement(o.Ht,{client:Zc},React.createElement(i,null,React.createElement(po,null,React.createElement(Jc,null)))),n)}),1e3),Array.from(document.getElementsByClassName("sclegn-create-social-post")).length&&setTimeout((function(){console.log("🟢 Ready to create social post"),Qc(React.createElement(o.Ht,{client:Zc},React.createElement(i,null,React.createElement(po,null,React.createElement(Xc,null)))),document.getElementById("wpfooter"))}),1e3);var r=document.getElementById("meow-common-dashboard");r&&setTimeout((function(){console.log("🟢 Ready to create social post"),Qc(React.createElement(o.Ht,{client:Zc},React.createElement(i,null,React.createElement(_e,null))),r)}),1e3)}))},1594:e=>{e.exports=React},5206:e=>{e.exports=ReactDOM}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={id:e,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,o,a]=e[s],c=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(c=!1,a<i&&(i=a));if(c){e.splice(s--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,o,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,c,l]=n,u=0;if(i.some((t=>0!==e[t]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(l)var s=l(r)}for(t&&t(n);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(s)},n=self.wpJsonSclegn=self.wpJsonSclegn||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var o=r.O(void 0,[121],(()=>r(6010)));o=r.O(o)})();
//# sourceMappingURL=index.js.map